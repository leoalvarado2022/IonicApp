(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{v0NQ:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),e=t("ocFP"),i=t("AjED"),o=t("sTnX"),r=t("Gvy4"),a=t("vf+8"),c=t("wd/R");class b{constructor(l,n,t,u,e,i,o){this.storeService=l,this.ticketsService=n,this.activatedRoute=t,this.loaderService=u,this.httpService=e,this.networkService=i,this.router=o,this.details=[],this.ticket=null,this.isOnline=!1,this.now=c(),this.loadTicket=()=>{this.loaderService.startLoader();const l=this.storeService.getActiveCompany();this.ticketsService.getTicket(this.id,{user:l.user}).subscribe(l=>{const{ticket:n,details:t,states:u,workers:e,priorities:i}=l.data;this.ticket=n,this.details=[...t],this.storeService.setActiveTicket(this.ticket),this.storeService.setTicketStates(u),this.storeService.setTicketUsers(e),this.storeService.setTicketPriorities(i),this.storeService.setTicketDetails(t),this.loaderService.stopLoader()},l=>{this.loaderService.stopLoader(),this.httpService.errorHandler(l)})},this.reSync=l=>{this.loadTicket(),l.target.complete()},this.openForm=()=>{this.router.navigate(["home-page/ticket-form"])}}ngOnInit(){this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.network$=this.networkService.getNetworkStatus().subscribe(l=>this.isOnline=l)}ngOnDestroy(){this.network$.unsubscribe()}ionViewWillEnter(){this.loadTicket()}remainingTime(l){return c(l,"DD/MM/YYYY HH:mm:ss").diff(this.now,"hours")+" h"}}class s{}var p=t("FhNQ"),d=t("pMnS"),g=t("SVse"),m=t("o3E9"),f=t("oBZk"),h=t("ZZ/e");class C{constructor(){this.buildLink=l=>l.link&&"undefined"!==l.link?`https://drive.google.com/file/d/${l.link}/view?usp=sharing`:"#"}ngOnInit(){}}var k=u.Ab({encapsulation:0,styles:[[".ticket-detail-item[_ngcontent-%COMP%]{margin:5px;background:#fff;box-shadow:none!important}.id[_ngcontent-%COMP%]{text-align:left;font-size:10px;color:var(--ion-color-medium-shade);padding:0}.name[_ngcontent-%COMP%]{text-align:right;font-size:10px;color:var(--ion-color-medium-shade);padding:0}.date[_ngcontent-%COMP%]{text-align:right;font-size:10px;color:var(--ion-color-medium-shade);padding:0;margin-top:15px}.totales[_ngcontent-%COMP%]{vertical-align:top;top:5px;position:relative}.title[_ngcontent-%COMP%]{font-size:14px;text-align:center}.value[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-weight:bolder;color:#000}.icon[_ngcontent-%COMP%]{font-size:40px}.old[_ngcontent-%COMP%]{--background:var(--color-box-light)!important}ion-label[_ngcontent-%COMP%]{margin:0;padding-bottom:5px}ion-item-sliding[_ngcontent-%COMP%]{border-radius:10px!important}.text-confirm[_ngcontent-%COMP%]{text-align:right;font-style:italic;font-size:12px;color:green}"]],data:{}});function v(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Estado:"])),(l()(),u.Vb(3,null,[" ",""]))],null,(function(l,n){l(n,3,0,n.component.detail.state)}))}function x(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,"p",[["class","text-confirm"]],null,null,null,null,null)),(l()(),u.Vb(1,null,["Fecha Compromiso: ",""])),u.Rb(2,1)],null,(function(l,n){var t=n.component,e=u.Wb(n,1,0,l(n,2,0,u.Nb(n.parent,0),t.detail.commitmentAt));l(n,1,0,e)}))}function L(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),u.Vb(2,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.buildLink(n.context.$implicit)),l(n,2,0,n.context.$implicit.name)}))}function O(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),u.Vb(-1,null,[" Adjuntos: "])),(l()(),u.rb(16777216,null,null,1,null,L)),u.Bb(3,278528,null,0,g.k,[u.X,u.T,u.x],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(0,null,null,0))],(function(l,n){l(n,3,0,n.component.detail.attached)}),null)}function T(l){return u.Xb(0,[u.Pb(0,m.a,[u.z]),(l()(),u.Cb(1,0,null,null,18,"ion-card",[["class","ticket-detail-item"]],null,null,null,f.fb,f.g)),u.Bb(2,49152,null,0,h.n,[u.j,u.p,u.F],null,null),(l()(),u.Cb(3,0,null,0,6,"ion-item",[],null,null,null,f.ub,f.w)),u.Bb(4,49152,null,0,h.I,[u.j,u.p,u.F],null,null),(l()(),u.Cb(5,0,null,0,2,"ion-label",[],null,null,null,f.vb,f.A)),u.Bb(6,49152,null,0,h.O,[u.j,u.p,u.F],null,null),(l()(),u.Vb(7,0,["",""])),(l()(),u.Cb(8,0,null,0,1,"ion-icon",[["color","primary"],["name","document"],["slot","end"]],null,null,null,f.ob,f.t)),u.Bb(9,49152,null,0,h.D,[u.j,u.p,u.F],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.Cb(10,0,null,0,9,"ion-card-content",[],null,null,null,f.bb,f.h)),u.Bb(11,49152,null,0,h.o,[u.j,u.p,u.F],null,null),(l()(),u.rb(16777216,null,0,1,null,v)),u.Bb(13,16384,null,0,g.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.Cb(14,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Vb(15,null,["",""])),(l()(),u.rb(16777216,null,0,1,null,x)),u.Bb(17,16384,null,0,g.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(16777216,null,0,1,null,O)),u.Bb(19,16384,null,0,g.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,9,0,"primary","document"),l(n,13,0,t.detail.active_state),l(n,17,0,t.detail.active_commit),l(n,19,0,t.detail.attached&&t.detail.attached.length)}),(function(l,n){var t=n.component;l(n,7,0,t.detail.assignedName),l(n,15,0,t.detail.observations||"Sin Observacion")}))}var F=t("KcSc"),S=t("X2tk"),M=t("iInd"),P=u.Ab({encapsulation:0,styles:[["ion-menu-button[_ngcontent-%COMP%]{--color:white}ion-title[_ngcontent-%COMP%]{color:#fff}ion-tab-button[_ngcontent-%COMP%]{font-size:16px;color:#fff;--color:white}.tab-selected[_ngcontent-%COMP%]{border-bottom:1px solid #fff!important}ion-content[_ngcontent-%COMP%]{--background:var(--color-background-tabs)}ion-tab-bar[_ngcontent-%COMP%]{height:45px;--background:var(--color-home-header-menu);--color:white}.text-white[_ngcontent-%COMP%]{color:#fff!important}.ticket-p[_ngcontent-%COMP%]{margin:0!important;padding-left:5px;padding-right:5px}.texto-ticket[_ngcontent-%COMP%]{padding:10px 0;color:#fff}.h[_ngcontent-%COMP%]{position:absolute;right:20px;font-style:italic}.date-compromiso[_ngcontent-%COMP%]{font-size:12px;float:right;margin-bottom:11px!important;font-style:italic}"]],data:{}});function w(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,39,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,38,"div",[["class","header-content background-color--header"]],null,null,null,null,null)),(l()(),u.Cb(2,0,null,null,37,"div",[["class","texto-ticket"]],null,null,null,null,null)),(l()(),u.Cb(3,0,null,null,2,"p",[["class","h"]],null,null,null,null,null)),(l()(),u.Cb(4,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(5,null,["",""])),(l()(),u.Cb(6,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(7,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["#Ticket:"])),(l()(),u.Vb(9,null,[" ",""])),(l()(),u.Cb(10,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(11,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Cliente:"])),(l()(),u.Vb(13,null,[" ",""])),(l()(),u.Cb(14,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Tipo:"])),(l()(),u.Vb(17,null,[" ",""])),(l()(),u.Cb(18,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Producto:"])),(l()(),u.Vb(21,null,[" ",""])),(l()(),u.Cb(22,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(23,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Funcionalidad:"])),(l()(),u.Vb(25,null,[" ",""])),(l()(),u.Cb(26,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(27,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Estado:"])),(l()(),u.Vb(29,null,[" ",""])),(l()(),u.Cb(30,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(31,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Referencia:"])),(l()(),u.Vb(33,null,[" ",""])),(l()(),u.Cb(34,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(35,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Creador:"])),(l()(),u.Vb(37,null,[" ",""])),(l()(),u.Cb(38,0,null,null,1,"p",[["class","date-compromiso ticket-p"]],null,null,null,null,null)),(l()(),u.Vb(39,null,["Fecha de Compromiso: ",""]))],null,(function(l,n){var t=n.component;l(n,5,0,t.remainingTime(t.ticket.clientCommitment)),l(n,9,0,t.ticket.id),l(n,13,0,t.ticket.client),l(n,17,0,t.ticket.type),l(n,21,0,t.ticket.productName),l(n,25,0,t.ticket.funcionalityName),l(n,29,0,t.ticket.state),l(n,33,0,t.ticket.reference),l(n,37,0,t.ticket.creator),l(n,39,0,t.ticket.clientCommitment)}))}function B(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,1,"app-ticket-detail-card",[],null,null,null,T,k)),u.Bb(1,114688,null,0,C,[],{detail:[0,"detail"]},null)],(function(l,n){l(n,1,0,n.context.$implicit)}),null)}function V(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,6,"ion-virtual-scroll",[],null,null,null,f.Pb,f.U)),u.Bb(2,835584,null,3,h.Eb,[u.F,u.x,u.p],{items:[0,"items"]},null),u.Tb(335544320,1,{itmTmp:0}),u.Tb(335544320,2,{hdrTmp:0}),u.Tb(335544320,3,{ftrTmp:0}),(l()(),u.rb(16777216,null,0,1,null,B)),u.Bb(7,16384,[[1,4]],0,h.Sb,[u.T,u.X],null,null)],(function(l,n){l(n,2,0,n.component.details)}),null)}function _(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,16,"ion-header",[],null,null,null,f.nb,f.s)),u.Bb(1,49152,null,0,h.C,[u.j,u.p,u.F],null,null),(l()(),u.Cb(2,0,null,0,14,"ion-toolbar",[["class","background-color-header"]],null,null,null,f.Ob,f.T)),u.Bb(3,49152,null,0,h.Db,[u.j,u.p,u.F],null,null),(l()(),u.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,f.ab,f.f)),u.Bb(5,49152,null,0,h.m,[u.j,u.p,u.F],null,null),(l()(),u.Cb(6,0,null,0,2,"ion-back-button",[["class","header-back-button"],["text",""]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Nb(l,8).onClick(t)&&e),e}),f.X,f.c)),u.Bb(7,49152,null,0,h.h,[u.j,u.p,u.F],{text:[0,"text"]},null),u.Bb(8,16384,null,0,h.i,[[2,h.jb],h.Jb],null,null),(l()(),u.Cb(9,0,null,0,3,"ion-title",[],null,null,null,f.Nb,f.S)),u.Bb(10,49152,null,0,h.Bb,[u.j,u.p,u.F],null,null),(l()(),u.Cb(11,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Listado Detalles"])),(l()(),u.Cb(13,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,f.ab,f.f)),u.Bb(14,49152,null,0,h.m,[u.j,u.p,u.F],null,null),(l()(),u.Cb(15,0,null,0,1,"app-notifications",[],null,null,null,F.b,F.a)),u.Bb(16,114688,null,0,S.a,[],null,null),(l()(),u.rb(16777216,null,null,1,null,w)),u.Bb(18,16384,null,0,g.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.Cb(19,0,null,null,13,"ion-content",[],null,null,null,f.ib,f.n)),u.Bb(20,49152,null,0,h.v,[u.j,u.p,u.F],null,null),(l()(),u.Cb(21,0,null,0,3,"ion-refresher",[["class","refresher"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,t){var u=!0;return"ionRefresh"===n&&(u=!1!==l.component.reSync(t)&&u),u}),f.Db,f.H)),u.Bb(22,49152,null,0,h.eb,[u.j,u.p,u.F],null,null),(l()(),u.Cb(23,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["pullingText","Pull to refresh"],["refreshingSpinner","circles"],["refreshingText","Sincronizando..."]],null,null,null,f.Cb,f.I)),u.Bb(24,49152,null,0,h.fb,[u.j,u.p,u.F],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null),(l()(),u.rb(16777216,null,0,1,null,V)),u.Bb(26,16384,null,0,g.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.Cb(27,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,f.lb,f.p)),u.Bb(28,49152,null,0,h.x,[u.j,u.p,u.F],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),u.Cb(29,0,null,0,3,"ion-fab-button",[["color","primary"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.openForm()&&u),u}),f.kb,f.q)),u.Bb(30,49152,null,0,h.y,[u.j,u.p,u.F],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),u.Cb(31,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,f.ob,f.t)),u.Bb(32,49152,null,0,h.D,[u.j,u.p,u.F],{name:[0,"name"]},null)],(function(l,n){var t=n.component;l(n,7,0,""),l(n,16,0),l(n,18,0,t.ticket),l(n,24,0,"arrow-dropdown","Pull to refresh","circles","Sincronizando..."),l(n,26,0,t.details.length>0),l(n,28,0,"end","bottom"),l(n,30,0,"primary",!t.isOnline),l(n,32,0,"add")}),null)}function X(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,1,"app-ticket-details-list",[],null,null,null,_,P)),u.Bb(1,245760,null,0,b,[e.a,i.a,M.a,o.a,r.a,a.a,M.n],null,null)],(function(l,n){l(n,1,0)}),null)}var j=u.yb("app-ticket-details-list",b,X,{},{},[]),I=t("s7LF"),y=t("IheW"),z=t("aVMi"),N=t("1dSU"),D=t("xgBC"),R=t("biaL"),E=t("QURO"),A=t("ElRG"),Y=t("v2G1"),$=t("t8sF"),G=t("s3Gz"),U=t("ZWll"),q=t("Pn9U"),H=t("niFY"),J=t("imvL"),K=t("wMzM"),Q=t("Q1xG"),W=t("PCNd");t.d(n,"TicketDetailsListPageModuleNgFactory",(function(){return Z}));var Z=u.zb(s,[],(function(l){return u.Kb([u.Lb(512,u.m,u.kb,[[8,[p.a,d.a,j]],[3,u.m],u.D]),u.Lb(4608,g.n,g.m,[u.z,[2,g.y]]),u.Lb(4608,I.o,I.o,[]),u.Lb(4608,h.c,h.c,[u.F,u.g]),u.Lb(4608,h.Ib,h.Ib,[h.c,u.m,u.w]),u.Lb(4608,h.Mb,h.Mb,[h.c,u.m,u.w]),u.Lb(4608,y.j,y.p,[g.c,u.I,y.n]),u.Lb(4608,y.q,y.q,[y.j,y.o]),u.Lb(5120,y.a,(function(l){return[l]}),[y.q]),u.Lb(4608,y.m,y.m,[]),u.Lb(6144,y.k,null,[y.m]),u.Lb(4608,y.i,y.i,[y.k]),u.Lb(6144,y.b,null,[y.i]),u.Lb(4608,y.g,y.l,[y.b,u.w]),u.Lb(4608,y.c,y.c,[y.g]),u.Lb(4608,I.c,I.c,[]),u.Lb(4608,z.a,z.a,[h.Rb]),u.Lb(4608,r.a,r.a,[M.n,e.a,z.a]),u.Lb(4608,N.a,N.a,[D.b]),u.Lb(4608,R.a,R.a,[y.c,r.a,N.a]),u.Lb(4608,E.a,E.a,[A.a,h.Lb]),u.Lb(4608,Y.a,Y.a,[h.b]),u.Lb(4608,$.a,$.a,[]),u.Lb(4608,G.a,G.a,[]),u.Lb(4608,U.a,U.a,[q.a,z.a,o.a]),u.Lb(4608,H.a,H.a,[J.a,y.c,N.a,r.a]),u.Lb(4608,K.a,K.a,[]),u.Lb(4608,i.a,i.a,[r.a,y.c]),u.Lb(1073742336,g.b,g.b,[]),u.Lb(1073742336,I.n,I.n,[]),u.Lb(1073742336,I.g,I.g,[]),u.Lb(1073742336,h.Fb,h.Fb,[]),u.Lb(1073742336,y.e,y.e,[]),u.Lb(1073742336,y.d,y.d,[]),u.Lb(1073742336,I.l,I.l,[]),u.Lb(1073742336,Q.a,Q.a,[]),u.Lb(1073742336,W.a,W.a,[]),u.Lb(1073742336,M.p,M.p,[[2,M.u],[2,M.n]]),u.Lb(1073742336,s,s,[]),u.Lb(256,y.n,"XSRF-TOKEN",[]),u.Lb(256,y.o,"X-XSRF-TOKEN",[]),u.Lb(1024,M.l,(function(){return[[{path:":id",component:b}]]}),[])])}))}}]);