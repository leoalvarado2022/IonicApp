function _toConsumableArray(l){return _arrayWithoutHoles(l)||_iterableToArray(l)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}function _arrayWithoutHoles(l){if(Array.isArray(l)){for(var n=0,t=new Array(l.length);n<l.length;n++)t[n]=l[n];return t}}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(l,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,t){return n&&_defineProperties(l.prototype,n),t&&_defineProperties(l,t),l}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{v0NQ:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),e=t("ocFP"),i=t("AjED"),o=t("sTnX"),r=t("Gvy4"),a=t("vf+8"),c=t("wd/R"),b=function(){function l(n,t,u,e,i,o,r){var a=this;_classCallCheck(this,l),this.storeService=n,this.ticketsService=t,this.activatedRoute=u,this.loaderService=e,this.httpService=i,this.networkService=o,this.router=r,this.details=[],this.ticket=null,this.isOnline=!1,this.now=c(),this.loadTicket=function(){a.loaderService.startLoader();var l=a.storeService.getActiveCompany();a.ticketsService.getTicket(a.id,{user:l.user}).subscribe((function(l){var n=l.data,t=n.ticket,u=n.details,e=n.states,i=n.workers,o=n.priorities;a.ticket=t,a.details=_toConsumableArray(u),a.storeService.setActiveTicket(a.ticket),a.storeService.setTicketStates(e),a.storeService.setTicketUsers(i),a.storeService.setTicketPriorities(o),a.storeService.setTicketDetails(u),a.loaderService.stopLoader()}),(function(l){a.loaderService.stopLoader(),a.httpService.errorHandler(l)}))},this.reSync=function(l){a.loadTicket(),l.target.complete()},this.openForm=function(){a.router.navigate(["home-page/ticket-form"])}}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.network$=this.networkService.getNetworkStatus().subscribe((function(n){return l.isOnline=n}))}},{key:"ngOnDestroy",value:function(){this.network$.unsubscribe()}},{key:"ionViewWillEnter",value:function(){this.loadTicket()}},{key:"remainingTime",value:function(l){return c(l,"DD/MM/YYYY HH:mm:ss").diff(this.now,"hours")+" h"}}]),l}(),s=function l(){_classCallCheck(this,l)},p=t("FhNQ"),d=t("pMnS"),f=t("SVse"),g=t("o3E9"),m=t("oBZk"),h=t("ZZ/e"),C=function(){function l(){_classCallCheck(this,l),this.buildLink=function(l){return l.link&&"undefined"!==l.link?"https://drive.google.com/file/d/".concat(l.link,"/view?usp=sharing"):"#"}}return _createClass(l,[{key:"ngOnInit",value:function(){}}]),l}(),k=u.Ab({encapsulation:0,styles:[[".ticket-detail-item[_ngcontent-%COMP%]{margin:5px;background:#fff;box-shadow:none!important}.id[_ngcontent-%COMP%]{text-align:left;font-size:10px;color:var(--ion-color-medium-shade);padding:0}.name[_ngcontent-%COMP%]{text-align:right;font-size:10px;color:var(--ion-color-medium-shade);padding:0}.date[_ngcontent-%COMP%]{text-align:right;font-size:10px;color:var(--ion-color-medium-shade);padding:0;margin-top:15px}.totales[_ngcontent-%COMP%]{vertical-align:top;top:5px;position:relative}.title[_ngcontent-%COMP%]{font-size:14px;text-align:center}.value[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-weight:bolder;color:#000}.icon[_ngcontent-%COMP%]{font-size:40px}.old[_ngcontent-%COMP%]{--background:var(--color-box-light)!important}ion-label[_ngcontent-%COMP%]{margin:0;padding-bottom:5px}ion-item-sliding[_ngcontent-%COMP%]{border-radius:10px!important}.text-confirm[_ngcontent-%COMP%]{text-align:right;font-style:italic;font-size:12px;color:green}"]],data:{}});function v(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Estado:"])),(l()(),u.Vb(3,null,[" ",""]))],null,(function(l,n){l(n,3,0,n.component.detail.state)}))}function x(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,"p",[["class","text-confirm"]],null,null,null,null,null)),(l()(),u.Vb(1,null,["Fecha Compromiso: ",""])),u.Rb(2,1)],null,(function(l,n){var t=n.component,e=u.Wb(n,1,0,l(n,2,0,u.Nb(n.parent,0),t.detail.commitmentAt));l(n,1,0,e)}))}function L(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),u.Vb(2,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.buildLink(n.context.$implicit)),l(n,2,0,n.context.$implicit.name)}))}function _(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),u.Vb(-1,null,[" Adjuntos: "])),(l()(),u.rb(16777216,null,null,1,null,L)),u.Bb(3,278528,null,0,f.k,[u.X,u.T,u.x],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(0,null,null,0))],(function(l,n){l(n,3,0,n.component.detail.attached)}),null)}function y(l){return u.Xb(0,[u.Pb(0,g.a,[u.z]),(l()(),u.Cb(1,0,null,null,18,"ion-card",[["class","ticket-detail-item"]],null,null,null,m.fb,m.g)),u.Bb(2,49152,null,0,h.n,[u.j,u.p,u.F],null,null),(l()(),u.Cb(3,0,null,0,6,"ion-item",[],null,null,null,m.ub,m.w)),u.Bb(4,49152,null,0,h.I,[u.j,u.p,u.F],null,null),(l()(),u.Cb(5,0,null,0,2,"ion-label",[],null,null,null,m.vb,m.A)),u.Bb(6,49152,null,0,h.O,[u.j,u.p,u.F],null,null),(l()(),u.Vb(7,0,["",""])),(l()(),u.Cb(8,0,null,0,1,"ion-icon",[["color","primary"],["name","document"],["slot","end"]],null,null,null,m.ob,m.t)),u.Bb(9,49152,null,0,h.D,[u.j,u.p,u.F],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.Cb(10,0,null,0,9,"ion-card-content",[],null,null,null,m.bb,m.h)),u.Bb(11,49152,null,0,h.o,[u.j,u.p,u.F],null,null),(l()(),u.rb(16777216,null,0,1,null,v)),u.Bb(13,16384,null,0,f.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.Cb(14,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Vb(15,null,["",""])),(l()(),u.rb(16777216,null,0,1,null,x)),u.Bb(17,16384,null,0,f.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(16777216,null,0,1,null,_)),u.Bb(19,16384,null,0,f.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,9,0,"primary","document"),l(n,13,0,t.detail.active_state),l(n,17,0,t.detail.active_commit),l(n,19,0,t.detail.attached&&t.detail.attached.length)}),(function(l,n){var t=n.component;l(n,7,0,t.detail.assignedName),l(n,15,0,t.detail.observations||"Sin Observacion")}))}var T=t("KcSc"),O=t("X2tk"),S=t("iInd"),w=u.Ab({encapsulation:0,styles:[["ion-menu-button[_ngcontent-%COMP%]{--color:white}ion-title[_ngcontent-%COMP%]{color:#fff}ion-tab-button[_ngcontent-%COMP%]{font-size:16px;color:#fff;--color:white}.tab-selected[_ngcontent-%COMP%]{border-bottom:1px solid #fff!important}ion-content[_ngcontent-%COMP%]{--background:var(--color-background-tabs)}ion-tab-bar[_ngcontent-%COMP%]{height:45px;--background:var(--color-home-header-menu);--color:white}.text-white[_ngcontent-%COMP%]{color:#fff!important}.ticket-p[_ngcontent-%COMP%]{margin:0!important;padding-left:5px;padding-right:5px}.texto-ticket[_ngcontent-%COMP%]{padding:10px 0;color:#fff}.h[_ngcontent-%COMP%]{position:absolute;right:20px;font-style:italic}.date-compromiso[_ngcontent-%COMP%]{font-size:12px;float:right;margin-bottom:11px!important;font-style:italic}"]],data:{}});function P(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,39,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,38,"div",[["class","header-content background-color--header"]],null,null,null,null,null)),(l()(),u.Cb(2,0,null,null,37,"div",[["class","texto-ticket"]],null,null,null,null,null)),(l()(),u.Cb(3,0,null,null,2,"p",[["class","h"]],null,null,null,null,null)),(l()(),u.Cb(4,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(5,null,["",""])),(l()(),u.Cb(6,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(7,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["#Ticket:"])),(l()(),u.Vb(9,null,[" ",""])),(l()(),u.Cb(10,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(11,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Cliente:"])),(l()(),u.Vb(13,null,[" ",""])),(l()(),u.Cb(14,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Tipo:"])),(l()(),u.Vb(17,null,[" ",""])),(l()(),u.Cb(18,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Producto:"])),(l()(),u.Vb(21,null,[" ",""])),(l()(),u.Cb(22,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(23,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Funcionalidad:"])),(l()(),u.Vb(25,null,[" ",""])),(l()(),u.Cb(26,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(27,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Estado:"])),(l()(),u.Vb(29,null,[" ",""])),(l()(),u.Cb(30,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(31,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Referencia:"])),(l()(),u.Vb(33,null,[" ",""])),(l()(),u.Cb(34,0,null,null,3,"p",[["class","ticket-p"]],null,null,null,null,null)),(l()(),u.Cb(35,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Creador:"])),(l()(),u.Vb(37,null,[" ",""])),(l()(),u.Cb(38,0,null,null,1,"p",[["class","date-compromiso ticket-p"]],null,null,null,null,null)),(l()(),u.Vb(39,null,["Fecha de Compromiso: ",""]))],null,(function(l,n){var t=n.component;l(n,5,0,t.remainingTime(t.ticket.clientCommitment)),l(n,9,0,t.ticket.id),l(n,13,0,t.ticket.client),l(n,17,0,t.ticket.type),l(n,21,0,t.ticket.productName),l(n,25,0,t.ticket.funcionalityName),l(n,29,0,t.ticket.state),l(n,33,0,t.ticket.reference),l(n,37,0,t.ticket.creator),l(n,39,0,t.ticket.clientCommitment)}))}function F(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,1,"app-ticket-detail-card",[],null,null,null,y,k)),u.Bb(1,114688,null,0,C,[],{detail:[0,"detail"]},null)],(function(l,n){l(n,1,0,n.context.$implicit)}),null)}function M(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,6,"ion-virtual-scroll",[],null,null,null,m.Pb,m.U)),u.Bb(2,835584,null,3,h.Eb,[u.F,u.x,u.p],{items:[0,"items"]},null),u.Tb(335544320,1,{itmTmp:0}),u.Tb(335544320,2,{hdrTmp:0}),u.Tb(335544320,3,{ftrTmp:0}),(l()(),u.rb(16777216,null,0,1,null,F)),u.Bb(7,16384,[[1,4]],0,h.Sb,[u.T,u.X],null,null)],(function(l,n){l(n,2,0,n.component.details)}),null)}function B(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,16,"ion-header",[],null,null,null,m.nb,m.s)),u.Bb(1,49152,null,0,h.C,[u.j,u.p,u.F],null,null),(l()(),u.Cb(2,0,null,0,14,"ion-toolbar",[["class","background-color-header"]],null,null,null,m.Ob,m.T)),u.Bb(3,49152,null,0,h.Db,[u.j,u.p,u.F],null,null),(l()(),u.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,m.ab,m.f)),u.Bb(5,49152,null,0,h.m,[u.j,u.p,u.F],null,null),(l()(),u.Cb(6,0,null,0,2,"ion-back-button",[["class","header-back-button"],["text",""]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Nb(l,8).onClick(t)&&e),e}),m.X,m.c)),u.Bb(7,49152,null,0,h.h,[u.j,u.p,u.F],{text:[0,"text"]},null),u.Bb(8,16384,null,0,h.i,[[2,h.jb],h.Jb],null,null),(l()(),u.Cb(9,0,null,0,3,"ion-title",[],null,null,null,m.Nb,m.S)),u.Bb(10,49152,null,0,h.Bb,[u.j,u.p,u.F],null,null),(l()(),u.Cb(11,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Listado Detalles"])),(l()(),u.Cb(13,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,m.ab,m.f)),u.Bb(14,49152,null,0,h.m,[u.j,u.p,u.F],null,null),(l()(),u.Cb(15,0,null,0,1,"app-notifications",[],null,null,null,T.b,T.a)),u.Bb(16,114688,null,0,O.a,[],null,null),(l()(),u.rb(16777216,null,null,1,null,P)),u.Bb(18,16384,null,0,f.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.Cb(19,0,null,null,13,"ion-content",[],null,null,null,m.ib,m.n)),u.Bb(20,49152,null,0,h.v,[u.j,u.p,u.F],null,null),(l()(),u.Cb(21,0,null,0,3,"ion-refresher",[["class","refresher"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,t){var u=!0;return"ionRefresh"===n&&(u=!1!==l.component.reSync(t)&&u),u}),m.Db,m.H)),u.Bb(22,49152,null,0,h.eb,[u.j,u.p,u.F],null,null),(l()(),u.Cb(23,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["pullingText","Pull to refresh"],["refreshingSpinner","circles"],["refreshingText","Sincronizando..."]],null,null,null,m.Cb,m.I)),u.Bb(24,49152,null,0,h.fb,[u.j,u.p,u.F],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null),(l()(),u.rb(16777216,null,0,1,null,M)),u.Bb(26,16384,null,0,f.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.Cb(27,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,m.lb,m.p)),u.Bb(28,49152,null,0,h.x,[u.j,u.p,u.F],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),u.Cb(29,0,null,0,3,"ion-fab-button",[["color","primary"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.openForm()&&u),u}),m.kb,m.q)),u.Bb(30,49152,null,0,h.y,[u.j,u.p,u.F],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),u.Cb(31,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,m.ob,m.t)),u.Bb(32,49152,null,0,h.D,[u.j,u.p,u.F],{name:[0,"name"]},null)],(function(l,n){var t=n.component;l(n,7,0,""),l(n,16,0),l(n,18,0,t.ticket),l(n,24,0,"arrow-dropdown","Pull to refresh","circles","Sincronizando..."),l(n,26,0,t.details.length>0),l(n,28,0,"end","bottom"),l(n,30,0,"primary",!t.isOnline),l(n,32,0,"add")}),null)}var V=u.yb("app-ticket-details-list",b,(function(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,1,"app-ticket-details-list",[],null,null,null,B,w)),u.Bb(1,245760,null,0,b,[e.a,i.a,S.a,o.a,r.a,a.a,S.n],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),j=t("s7LF"),I=t("IheW"),X=t("aVMi"),z=t("1dSU"),A=t("xgBC"),N=t("biaL"),D=t("QURO"),R=t("ElRG"),E=t("v2G1"),H=t("t8sF"),W=t("s3Gz"),Y=t("ZWll"),G=t("Pn9U"),U=t("niFY"),$=t("imvL"),q=t("wMzM"),J=t("Q1xG"),K=t("PCNd");t.d(n,"TicketDetailsListPageModuleNgFactory",(function(){return Q}));var Q=u.zb(s,[],(function(l){return u.Kb([u.Lb(512,u.m,u.kb,[[8,[p.a,d.a,V]],[3,u.m],u.D]),u.Lb(4608,f.n,f.m,[u.z,[2,f.y]]),u.Lb(4608,j.o,j.o,[]),u.Lb(4608,h.c,h.c,[u.F,u.g]),u.Lb(4608,h.Ib,h.Ib,[h.c,u.m,u.w]),u.Lb(4608,h.Mb,h.Mb,[h.c,u.m,u.w]),u.Lb(4608,I.j,I.p,[f.c,u.I,I.n]),u.Lb(4608,I.q,I.q,[I.j,I.o]),u.Lb(5120,I.a,(function(l){return[l]}),[I.q]),u.Lb(4608,I.m,I.m,[]),u.Lb(6144,I.k,null,[I.m]),u.Lb(4608,I.i,I.i,[I.k]),u.Lb(6144,I.b,null,[I.i]),u.Lb(4608,I.g,I.l,[I.b,u.w]),u.Lb(4608,I.c,I.c,[I.g]),u.Lb(4608,j.c,j.c,[]),u.Lb(4608,X.a,X.a,[h.Rb]),u.Lb(4608,r.a,r.a,[S.n,e.a,X.a]),u.Lb(4608,z.a,z.a,[A.b]),u.Lb(4608,N.a,N.a,[I.c,r.a,z.a]),u.Lb(4608,D.a,D.a,[R.a,h.Lb]),u.Lb(4608,E.a,E.a,[h.b]),u.Lb(4608,H.a,H.a,[]),u.Lb(4608,W.a,W.a,[]),u.Lb(4608,Y.a,Y.a,[G.a,X.a,o.a]),u.Lb(4608,U.a,U.a,[$.a,I.c,z.a,r.a]),u.Lb(4608,q.a,q.a,[]),u.Lb(4608,i.a,i.a,[r.a,I.c]),u.Lb(1073742336,f.b,f.b,[]),u.Lb(1073742336,j.n,j.n,[]),u.Lb(1073742336,j.g,j.g,[]),u.Lb(1073742336,h.Fb,h.Fb,[]),u.Lb(1073742336,I.e,I.e,[]),u.Lb(1073742336,I.d,I.d,[]),u.Lb(1073742336,j.l,j.l,[]),u.Lb(1073742336,J.a,J.a,[]),u.Lb(1073742336,K.a,K.a,[]),u.Lb(1073742336,S.p,S.p,[[2,S.u],[2,S.n]]),u.Lb(1073742336,s,s,[]),u.Lb(256,I.n,"XSRF-TOKEN",[]),u.Lb(256,I.o,"X-XSRF-TOKEN",[]),u.Lb(1024,S.l,(function(){return[[{path:":id",component:b}]]}),[])])}))}}]);