{"version":3,"sources":["./src/app/home-page/crm/tickets/me/me.page.html","./src/app/home-page/crm/tickets/me/me-routing.module.ts","./src/app/home-page/crm/tickets/me/me.module.ts","./src/app/home-page/crm/tickets/me/me.page.scss","./src/app/home-page/crm/tickets/me/me.page.ts"],"names":[],"mappings":"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","file":"me-me-module-es2015.js","sourcesContent":["export default \"<ion-searchbar placeholder=\\\"Buscar...\\\" (ionChange)=\\\"searchTickets($event.target.value)\\\" (ionClear)=\\\"cancelSearch()\\\" animated class=\\\"production\\\" showCancelButton=\\\"never\\\"></ion-searchbar>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-refresher (ionRefresh)=\\\"reSync($event)\\\" class=\\\"refresher\\\" slot=\\\"fixed\\\">\\r\\n    <ion-refresher-content\\r\\n      pullingIcon=\\\"arrow-dropdown\\\"\\r\\n      pullingText=\\\"Pull to refresh\\\"\\r\\n      refreshingSpinner=\\\"circles\\\"\\r\\n      refreshingText=\\\"Sincronizando...\\\">\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n\\r\\n  <ion-virtual-scroll [items]=\\\"filteredTickets\\\">\\r\\n    <app-ticket-card\\r\\n      *virtualItem=\\\"let ticket\\\"\\r\\n      [ticket]=\\\"ticket\\\"\\r\\n      (ticketSelected)=\\\"ticketSelected($event)\\\"\\r\\n      (deleteTicketEvent)=\\\"deleteTicket($event)\\\">\\r\\n    </app-ticket-card>\\r\\n  </ion-virtual-scroll>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MePage } from './me.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MePageRoutingModule {}\r\n","import {NgModule} from '@angular/core';\r\nimport {MePageRoutingModule} from './me-routing.module';\r\nimport {MePage} from './me.page';\r\nimport {SharedModule} from '../../../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    MePageRoutingModule\r\n  ],\r\n  declarations: [MePage]\r\n})\r\nexport class MePageModule {\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUtcGFnZS9jcm0vdGlja2V0cy9tZS9tZS5wYWdlLnNjc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\r\nimport {TicketsService} from '../../services/tickets/tickets.service';\r\nimport {StoreService} from '../../../../shared/services/store/store.service';\r\nimport {HttpService} from '../../../../shared/services/http/http.service';\r\nimport {LoaderService} from '../../../../shared/services/loader/loader.service';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-me',\r\n  templateUrl: './me.page.html',\r\n  styleUrls: ['./me.page.scss'],\r\n})\r\nexport class MePage implements OnInit {\r\n\r\n  private myTickets: Array<any> = [];\r\n  public filteredTickets: Array<any> = [];\r\n\r\n  constructor(\r\n    private ticketsService: TicketsService,\r\n    private storeService: StoreService,\r\n    private httpService: HttpService,\r\n    private loaderService: LoaderService,\r\n    private router: Router\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadTickets();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.loadTickets();\r\n  }\r\n\r\n  /**\r\n   * loadTickets\r\n   */\r\n  private loadTickets = () => {\r\n    this.loaderService.startLoader('Cargando tickets');\r\n    const user = this.storeService.getActiveCompany();\r\n\r\n    const data = {\r\n      filter: 'activo',\r\n      user: user.user,\r\n      init: 0,\r\n      registers: 0,\r\n      order: 0,\r\n      search: ''\r\n    };\r\n\r\n    this.ticketsService.getTickets(data).subscribe((success: any) => {\r\n      this.myTickets = success.data.listTickets;\r\n      this.filteredTickets = success.data.listTickets;\r\n\r\n      this.loaderService.stopLoader();\r\n    }, error => {\r\n      this.loaderService.stopLoader();\r\n      this.httpService.errorHandler(error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * searchTickets\r\n   * @param search\r\n   */\r\n  public searchTickets = (search: string) => {\r\n    if (search) {\r\n      this.filteredTickets = this.myTickets.filter(item => {\r\n        return (\r\n          item.id.toString().includes(search.toLowerCase()) ||\r\n          item.client.toLowerCase().includes(search.toLowerCase()) ||\r\n          item.maxResolution.toLowerCase().includes(search.toLowerCase()) ||\r\n          item.state.toLowerCase().includes(search.toLowerCase()) ||\r\n          item.createdAt.toLowerCase().includes(search.toLowerCase())\r\n        );\r\n      });\r\n    } else {\r\n      this.filteredTickets = this.myTickets;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * cancelSearch\r\n   */\r\n  public cancelSearch = () => {\r\n    this.filteredTickets = this.myTickets;\r\n  }\r\n\r\n  /**\r\n   * reSync\r\n   * @param event\r\n   */\r\n  public reSync = (event: any) => {\r\n    this.myTickets = [];\r\n    this.filteredTickets = [];\r\n    this.loadTickets();\r\n    event.target.complete();\r\n  }\r\n\r\n  /**\r\n   * ticketSelected\r\n   * @param ticket\r\n   */\r\n  public ticketSelected = (ticket: any) => {\r\n    this.router.navigate(['/home-page/ticket-details-list', ticket.id]);\r\n  }\r\n\r\n  /**\r\n   * deleteTicket\r\n   * @param ticket\r\n   */\r\n  deleteTicket(ticket: any) {\r\n    console.log('deleteTicket', ticket);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}