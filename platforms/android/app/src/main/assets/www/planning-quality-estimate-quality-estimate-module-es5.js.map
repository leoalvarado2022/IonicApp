{"version":3,"sources":["src/app/home-page/planning/quality-estimate/quality-estimate-form/quality-estimate-form.component.html","src/app/home-page/planning/quality-estimate/quality-estimate.page.html","src/app/home-page/planning/quality-estimate/quality-estimate-form/quality-estimate-form.component.scss","src/app/home-page/planning/quality-estimate/quality-estimate-form/quality-estimate-form.component.ts","src/app/home-page/planning/quality-estimate/quality-estimate.module.ts","src/app/home-page/planning/quality-estimate/quality-estimate.page.scss","src/app/home-page/planning/quality-estimate/quality-estimate.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"closeModal()\\\" color=\\\"secondary\\\">\\r\\n        <ion-icon name=\\\"arrow-back\\\" slot=\\\"icon-only\\\" style=\\\"color:white;\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{ qualityEstimate ? 'Ver' : 'Registrar' }} Calidad</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form [formGroup]=\\\"qualityForm\\\">\\r\\n    <ng-container formGroupName=\\\"quality\\\">\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"fixed\\\">Calidad</ion-label>\\r\\n        <ion-select [interfaceOptions]=\\\"customActionSheetOptions\\\" [selectedText]=\\\"getSelectedQuality()\\\" cancelText=\\\"Cancelar\\\" formControlName=\\\"quality\\\" interface=\\\"action-sheet\\\">\\r\\n          <ion-select-option *ngFor=\\\"let q of qualities\\\" [value]=\\\"q.id\\\">\\r\\n            {{ q.name }}\\r\\n          </ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n\\r\\n      <ng-container *ngIf=\\\"qualityForm.get(['quality', 'quality']).hasError('required')\\\">\\r\\n        <span class=\\\"errorMsg\\\">Seleccione la Calidad</span>\\r\\n      </ng-container>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"fixed\\\">% de Exportación</ion-label>\\r\\n        <ion-input clearInput formControlName=\\\"exportPercentage\\\" placeholder=\\\"Ingrese el %\\\" type=\\\"number\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ng-container *ngIf=\\\"qualityForm.get(['quality', 'exportPercentage']).hasError('max')\\\">\\r\\n        <span class=\\\"errorMsg\\\">El porcentaje maximo es 100</span>\\r\\n      </ng-container>\\r\\n      <ng-container *ngIf=\\\"qualityForm.get(['quality', 'exportPercentage']).hasError('min')\\\">\\r\\n        <span class=\\\"errorMsg\\\">El porcentaje minimo es 0</span>\\r\\n      </ng-container>\\r\\n\\r\\n    </ng-container>\\r\\n\\r\\n    <ng-container formArrayName=\\\"calibers\\\">\\r\\n      <ion-list>\\r\\n        <ion-list-header>\\r\\n          Datos Calibres\\r\\n        </ion-list-header>\\r\\n\\r\\n        <ng-container *ngFor=\\\"let item of qualityForm.get('calibers')['controls']; let index = index\\\" [formGroupName]=\\\"index.toString()\\\">\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"fixed\\\">{{ getCaliberName(item) }}</ion-label>\\r\\n            <ion-input clearInput formControlName=\\\"percentage\\\" placeholder=\\\"Ingrese el %\\\" type=\\\"number\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <ng-container *ngIf=\\\"item.get('percentage').hasError('max')\\\">\\r\\n            <span class=\\\"errorMsg\\\">El porcentaje maximo es 100</span>\\r\\n          </ng-container>\\r\\n          <ng-container *ngIf=\\\"item.get('percentage').hasError('min')\\\">\\r\\n            <span class=\\\"errorMsg\\\">El porcentaje minimo es 0</span>\\r\\n          </ng-container>\\r\\n        </ng-container>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"fixed\\\">Total</ion-label>\\r\\n          <ion-input [disabled]=\\\"isView\\\" [ngClass]=\\\"{ 'total-padding': !isView }\\\" [value]=\\\"getTotal()\\\" clearInput readonly=\\\"true\\\" type=\\\"number\\\"></ion-input>\\r\\n        </ion-item>\\r\\n\\r\\n        <ng-container *ngIf=\\\"!isView && qualityForm.hasError('wrongPercentage')\\\">\\r\\n          <span class=\\\"errorMsg\\\">El porcentaje total debe sumar 100%</span>\\r\\n        </ng-container>\\r\\n\\r\\n      </ion-list>\\r\\n    </ng-container>\\r\\n\\r\\n    <br><br>\\r\\n    <ng-container *ngIf=\\\"!qualityEstimate\\\">\\r\\n      <ion-button (click)=\\\"submit()\\\" [disabled]=\\\"qualityForm.invalid || isSaving\\\" color=\\\"primary\\\" expand=\\\"block\\\">\\r\\n        Guardar\\r\\n      </ion-button>\\r\\n    </ng-container>\\r\\n\\r\\n  </form>\\r\\n</ion-content>\\r\\n\"","export default \"<ion-header>\\r\\n  <ion-toolbar class=\\\"background-color-header\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button class=\\\"white\\\" text=\\\"\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"white\\\">\\r\\n      <strong>Estimación de Calidad</strong>\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <app-notifications></app-notifications>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-searchbar\\r\\n  placeholder=\\\"Buscar...\\\"\\r\\n  (ionChange)=\\\"searchQuality($event.target.value)\\\"\\r\\n  (ionClear)=\\\"cancelSearch()\\\"\\r\\n  animated\\r\\n  class=\\\"production\\\"\\r\\n  showCancelButton=\\\"never\\\">\\r\\n</ion-searchbar>\\r\\n\\r\\n<ion-content class=\\\"content\\\">\\r\\n\\r\\n  <ng-container *ngFor=\\\"let quality of filteredQualityEstimate; let index = index\\\">\\r\\n    <div class=\\\"card-sli\\\">\\r\\n      <div class=\\\"card-sli-back\\\">\\r\\n        <app-quality-estimate-item\\r\\n          (itemDelete)=\\\"deleteQuality(quality)\\\"\\r\\n          (itemSelected)=\\\"viewQuality(quality)\\\"\\r\\n          [costCenter]=\\\"costCenter\\\"\\r\\n          [details]=\\\"getItemDetails(quality.id)\\\"\\r\\n          [isOld]=\\\"index > 0 \\\"\\r\\n          [item]=\\\"quality\\\"\\r\\n          [slideDisabled]=\\\"false\\\">\\r\\n        </app-quality-estimate-item>\\r\\n      </div>\\r\\n    </div>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container *ngIf=\\\"checkButton()\\\">\\r\\n    <ion-fab horizontal=\\\"end\\\" slot=\\\"fixed\\\" vertical=\\\"bottom\\\">\\r\\n      <ion-fab-button (click)=\\\"openForm()\\\" [disabled]=\\\"!costCenter || !isOnline\\\" color=\\\"success\\\">\\r\\n        <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n    </ion-fab>\\r\\n  </ng-container>\\r\\n\\r\\n</ion-content>\\r\\n\"","export default \".errorMsg {\\n  color: red;\\n  padding-left: 15px;\\n}\\n\\nion-item ion-label {\\n  min-width: 50%;\\n}\\n\\nion-item ion-input {\\n  text-align: right;\\n}\\n\\n.total-padding {\\n  --padding-end: 37px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS1wYWdlL3BsYW5uaW5nL3F1YWxpdHktZXN0aW1hdGUvcXVhbGl0eS1lc3RpbWF0ZS1mb3JtL0Q6XFxucG1cXGZ4MTFfbW9iaWxlL3NyY1xcYXBwXFxob21lLXBhZ2VcXHBsYW5uaW5nXFxxdWFsaXR5LWVzdGltYXRlXFxxdWFsaXR5LWVzdGltYXRlLWZvcm1cXHF1YWxpdHktZXN0aW1hdGUtZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvaG9tZS1wYWdlL3BsYW5uaW5nL3F1YWxpdHktZXN0aW1hdGUvcXVhbGl0eS1lc3RpbWF0ZS1mb3JtL3F1YWxpdHktZXN0aW1hdGUtZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREdFO0VBQ0UsY0FBQTtBQ0FKOztBREdFO0VBQ0UsaUJBQUE7QUNESjs7QURLQTtFQUNFLG1CQUFBO0FDRkYiLCJmaWxlIjoic3JjL2FwcC9ob21lLXBhZ2UvcGxhbm5pbmcvcXVhbGl0eS1lc3RpbWF0ZS9xdWFsaXR5LWVzdGltYXRlLWZvcm0vcXVhbGl0eS1lc3RpbWF0ZS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVycm9yTXNnIHtcclxuICBjb2xvcjogcmVkO1xyXG4gIHBhZGRpbmctbGVmdDogMTVweDtcclxufVxyXG5cclxuaW9uLWl0ZW0ge1xyXG4gIGlvbi1sYWJlbCB7XHJcbiAgICBtaW4td2lkdGg6IDUwJTtcclxuICB9XHJcblxyXG4gIGlvbi1pbnB1dCB7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICB9XHJcbn1cclxuXHJcbi50b3RhbC1wYWRkaW5nIHtcclxuICAtLXBhZGRpbmctZW5kOiAzN3B4O1xyXG59XHJcbiIsIi5lcnJvck1zZyB7XG4gIGNvbG9yOiByZWQ7XG4gIHBhZGRpbmctbGVmdDogMTVweDtcbn1cblxuaW9uLWl0ZW0gaW9uLWxhYmVsIHtcbiAgbWluLXdpZHRoOiA1MCU7XG59XG5pb24taXRlbSBpb24taW5wdXQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cblxuLnRvdGFsLXBhZGRpbmcge1xuICAtLXBhZGRpbmctZW5kOiAzN3B4O1xufSJdfQ== */\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Caliber, CostCenter, Generic, QualityDetail, QualityEstimate} from '@primetec/primetec-angular';\r\nimport {FormArray, FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {ModalController} from '@ionic/angular';\r\nimport {AuthService} from '../../../../shared/services/auth/auth.service';\r\nimport {ContractDetailService} from '../../services/contract-detail/contract-detail.service';\r\nimport {SyncService} from '../../../../shared/services/sync/sync.service';\r\nimport {ToastService} from '../../../../shared/services/toast/toast.service';\r\nimport {HttpService} from '../../../../shared/services/http/http.service';\r\nimport {LoaderService} from '../../../../shared/services/loader/loader.service';\r\nimport {StoreService} from '../../../../shared/services/store/store.service';\r\n\r\n@Component({\r\n  selector: 'app-quality-estimate-form',\r\n  templateUrl: './quality-estimate-form.component.html',\r\n  styleUrls: ['./quality-estimate-form.component.scss'],\r\n})\r\nexport class QualityEstimateFormComponent implements OnInit {\r\n\r\n  @Input() costCenter: CostCenter;\r\n  @Input() qualityEstimate: QualityEstimate;\r\n  @Input() qualityEstimateDetail: Array<QualityDetail>;\r\n  @Input() isView: boolean;\r\n  @Input() previous: QualityEstimate;\r\n\r\n  public readonly customActionSheetOptions: any = {\r\n    header: 'Calidades',\r\n    keyboardClose: false,\r\n    backdropDismiss: false\r\n  };\r\n\r\n  public qualityForm: FormGroup;\r\n  public isSaving = false;\r\n  public qualities: Array<Generic>;\r\n  private userCompany: any;\r\n  private calibers: Array<Caliber>;\r\n  private filteredCalibers: Array<Caliber>;\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private formBuilder: FormBuilder,\r\n    private authService: AuthService,\r\n    private contractDetailService: ContractDetailService,\r\n    private syncService: SyncService,\r\n    private toastService: ToastService,\r\n    private httpService: HttpService,\r\n    private loaderService: LoaderService,\r\n    private storeService: StoreService\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.userCompany = this.storeService.getActiveCompany();\r\n    if (this.isView) {\r\n      this.qualityForm = this.formBuilder.group({\r\n        quality: this.formBuilder.group({\r\n          id: [this.qualityEstimate.id, Validators.required],\r\n          costCenter: [this.costCenter.id, Validators.required],\r\n          user: [this.userCompany.user, Validators.required],\r\n          quality: [{value: this.qualityEstimate.quality, disabled: true}, Validators.required],\r\n          exportPercentage: [{value: this.qualityEstimate.exportPercentage, disabled: true}, [\r\n            Validators.required,\r\n            Validators.max(100),\r\n            Validators.min(0)\r\n          ]],\r\n          temp: [1]\r\n        }),\r\n        calibers: this.formBuilder.array([])\r\n      }, {validator: this.validateCalibers});\r\n    } else {\r\n      this.qualityForm = this.formBuilder.group({\r\n        quality: this.formBuilder.group({\r\n          id: [0, Validators.required],\r\n          costCenter: [this.costCenter.id, Validators.required],\r\n          user: [this.userCompany.user, Validators.required],\r\n          quality: [this.previous ? this.previous.quality : '', Validators.required],\r\n          exportPercentage: [this.previous ? this.previous.exportPercentage : '', [\r\n            Validators.required,\r\n            Validators.max(100),\r\n            Validators.min(0)\r\n          ]],\r\n          temp: [1]\r\n        }),\r\n        calibers: this.formBuilder.array([])\r\n      }, {validator: this.validateCalibers});\r\n    }\r\n\r\n    this.loadCalibers();\r\n  }\r\n\r\n  /**\r\n   * closeModal\r\n   */\r\n  public closeModal = (status: boolean = false) => {\r\n    this.qualityForm.reset();\r\n    this.modalController.dismiss(status);\r\n  }\r\n\r\n  /**\r\n   * submit\r\n   */\r\n  public submit = () => {\r\n    if (this.qualityForm.valid && !this.isSaving) {\r\n      this.isSaving = true;\r\n      delete this.costCenter.active;\r\n\r\n      const data = Object.assign({}, this.qualityForm.value, {\r\n        costCenter: this.costCenter\r\n      });\r\n\r\n      data.calibers = data.calibers.map(caliber => Object.assign({}, caliber, {\r\n        percentage: caliber.percentage === '' ? 0 : caliber.percentage\r\n      })).filter(caliber => caliber.percentage > 0);\r\n\r\n      this.storeQuality(data);\r\n    } else {\r\n      this.isSaving = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * getCaliberName\r\n   * @param item\r\n   */\r\n  public getCaliberName = (item: any) => {\r\n    const caliber = this.calibers.find((caliber: Caliber) => caliber.id === item.get('caliber').value);\r\n    return caliber ? caliber.name : 'NOMBRE CALIBRE';\r\n  }\r\n\r\n  /**\r\n   * validateCalibers\r\n   * @param form\r\n   */\r\n  public validateCalibers = (form: FormGroup) => {\r\n    const items = form.get('calibers') as FormArray;\r\n\r\n    let accum = 0;\r\n    for (const item of items.controls) {\r\n      const percentage = item.get('percentage').value ? item.get('percentage').value : 0;\r\n      if (percentage) {\r\n        accum = accum + percentage;\r\n      }\r\n    }\r\n\r\n    return accum < 100 || accum > 100 ? {wrongPercentage: true} : null;\r\n  }\r\n\r\n  /**\r\n   * getTotal\r\n   */\r\n  public getTotal = () => {\r\n    const items = this.qualityForm.get('calibers') as FormArray;\r\n\r\n    let accum = 0;\r\n    for (const item of items.controls) {\r\n      const percentage = item.get('percentage').value ? item.get('percentage').value : 0;\r\n      if (percentage && percentage > 0) {\r\n        accum = accum + percentage;\r\n      }\r\n    }\r\n\r\n    return accum;\r\n  }\r\n\r\n  /**\r\n   * getSelectedQuality\r\n   */\r\n  public getSelectedQuality = () => {\r\n    if (this.qualities) {\r\n      const id = this.qualityForm.get('quality.quality').value;\r\n      const find = this.qualities.find(item => item.id === id);\r\n      return find ? find.name : '';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  /**\r\n   * loadCalibers\r\n   */\r\n  private loadCalibers = () => {\r\n    this.calibers = this.storeService.getCalibers();\r\n    this.qualities = this.storeService.getQualities();\r\n    this.filteredCalibers = this.calibers.filter((item: any) => item.species === this.costCenter.species);\r\n\r\n    const items = this.qualityForm.get('calibers') as FormArray;\r\n\r\n    for (const item of this.filteredCalibers) {\r\n      let find = null;\r\n      if (this.qualityEstimateDetail) {\r\n        find = this.qualityEstimateDetail.find(detail => detail.caliber === item.id);\r\n      }\r\n\r\n      const newCaliber = this.formBuilder.group({\r\n        id: [find ? find.id : 0, Validators.required],\r\n        quality: [find ? find.qualityEstimate : 0, Validators.required],\r\n        caliber: [item.id, Validators.required],\r\n        percentage: [{value: find ? find.value : '', disabled: this.isView}, [\r\n          Validators.max(100),\r\n          Validators.min(0)\r\n        ]],\r\n        temp: [1]\r\n      });\r\n      items.push(newCaliber);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * storeQuality\r\n   * @param data\r\n   */\r\n  private storeQuality(data: any) {\r\n    this.loaderService.startLoader('Guardando estimacion...');\r\n    this.contractDetailService.storeQuality(data).subscribe(success => {\r\n      this.isSaving = false;\r\n      this.loaderService.stopLoader();\r\n      this.closeModal(true);\r\n    }, error => {\r\n      this.isSaving = false;\r\n      this.loaderService.stopLoader();\r\n      this.httpService.errorHandler(error);\r\n    });\r\n  }\r\n\r\n}\r\n\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {QualityEstimatePage} from './quality-estimate.page';\r\nimport {SharedModule} from '../../../shared/shared.module';\r\nimport {QualityEstimateFormComponent} from './quality-estimate-form/quality-estimate-form.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: QualityEstimatePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [\r\n    QualityEstimatePage,\r\n    QualityEstimateFormComponent\r\n  ],\r\n  entryComponents: [\r\n    QualityEstimateFormComponent\r\n  ]\r\n})\r\nexport class QualityEstimatePageModule {\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUtcGFnZS9wbGFubmluZy9xdWFsaXR5LWVzdGltYXRlL3F1YWxpdHktZXN0aW1hdGUucGFnZS5zY3NzIn0= */\"","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {NavigationEnd, Router} from '@angular/router';\r\nimport {ContractDetailService} from '../services/contract-detail/contract-detail.service';\r\nimport {CostCenter, QualityDetail, QualityEstimate} from '@primetec/primetec-angular';\r\nimport {ModalController} from '@ionic/angular';\r\nimport {QualityEstimateFormComponent} from './quality-estimate-form/quality-estimate-form.component';\r\nimport {HttpService} from '../../../shared/services/http/http.service';\r\nimport {LoaderService} from '../../../shared/services/loader/loader.service';\r\nimport {AlertService} from '../../../shared/services/alert/alert.service';\r\nimport {Subscription} from 'rxjs';\r\nimport {NetworkService} from '../../../shared/services/network/network.service';\r\nimport {StoreService} from '../../../shared/services/store/store.service';\r\n\r\n@Component({\r\n  selector: 'app-quality-estimate',\r\n  templateUrl: './quality-estimate.page.html',\r\n  styleUrls: ['./quality-estimate.page.scss'],\r\n})\r\nexport class QualityEstimatePage implements OnInit, OnDestroy {\r\n\r\n  public filteredQualityEstimate: Array<QualityEstimate>;\r\n  public costCenter: CostCenter;\r\n  public isOnline: boolean;\r\n  private qualityEstimate: Array<QualityEstimate>;\r\n  private qualityEstimateDetail: Array<QualityDetail>;\r\n  private currentUrl: string;\r\n  private isOnline$: Subscription;\r\n  private router$: Subscription;\r\n  private store$: Subscription;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private contractDetailService: ContractDetailService,\r\n    private modalController: ModalController,\r\n    private alertService: AlertService,\r\n    private httpService: HttpService,\r\n    private loaderService: LoaderService,\r\n    private networkService: NetworkService,\r\n    private storeService: StoreService\r\n  ) {\r\n    this.isOnline$ = this.networkService.getNetworkStatus().subscribe(status => {\r\n      this.isOnline = status;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.router$ = this.router.events.subscribe((route) => {\r\n      if (route instanceof NavigationEnd) {\r\n        this.currentUrl = route.url;\r\n      }\r\n    });\r\n\r\n    this.store$ = this.storeService.stateChanged.subscribe(data => {\r\n      this.costCenter = this.storeService.getCostCenter();\r\n      this.qualityEstimate = this.storeService.getQualityEstimate();\r\n      this.filteredQualityEstimate = this.storeService.getQualityEstimate();\r\n      this.qualityEstimateDetail = this.storeService.getQualityEstimateDetail();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.isOnline$.unsubscribe();\r\n    this.router$.unsubscribe();\r\n    this.store$.unsubscribe();\r\n  }\r\n\r\n  /**\r\n   * checkButton\r\n   */\r\n  public checkButton = () => {\r\n    return this.currentUrl === '/home-page/quality-estimate';\r\n  }\r\n\r\n  /**\r\n   * openForm\r\n   */\r\n  public openForm = async (qualityEstimate: QualityEstimate = null) => {\r\n    const modal = await this.modalController.create({\r\n      component: QualityEstimateFormComponent,\r\n      componentProps: {\r\n        costCenter: this.costCenter,\r\n        qualityEstimate,\r\n        qualityEstimateDetail: qualityEstimate ? this.qualityEstimateDetail.filter(item => item.qualityEstimate === qualityEstimate.id) : [],\r\n        isView: qualityEstimate !== null,\r\n        previous: this.qualityEstimate.length > 0 ? this.qualityEstimate[0] : null\r\n      },\r\n      backdropDismiss: false,\r\n      keyboardClose: false,\r\n      cssClass: 'full-screen-modal'\r\n    });\r\n\r\n    modal.onDidDismiss().then((data) => {\r\n      if (data.data) {\r\n        this.reloadList();\r\n      }\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  /**\r\n   * searchQuality\r\n   * @param search\r\n   */\r\n  public searchQuality = (search: string) => {\r\n    if (search) {\r\n      this.filteredQualityEstimate = this.qualityEstimate.filter(item => {\r\n        return (\r\n          item.userName.toLowerCase().includes(search.toLowerCase()) ||\r\n          item.qualityName.toLowerCase().includes(search.toLowerCase()) ||\r\n          item.exportPercentage === parseInt(search, 10)\r\n        );\r\n      });\r\n    } else {\r\n      this.filteredQualityEstimate = this.qualityEstimate;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * cancelSearch\r\n   */\r\n  public cancelSearch = () => {\r\n    this.filteredQualityEstimate = this.qualityEstimate;\r\n  }\r\n\r\n  /**\r\n   * viewQuality\r\n   * @param qualityEstimate\r\n   */\r\n  public viewQuality = async (qualityEstimate: QualityEstimate) => {\r\n    await this.openForm(qualityEstimate);\r\n  }\r\n\r\n  /**\r\n   * deleteQuality\r\n   * @param qualityEstimate\r\n   */\r\n  public deleteQuality = async (qualityEstimate: QualityEstimate) => {\r\n    const response = await this.alertService.confirmAlert('Desea borrar esta estimacion de calidad?');\r\n\r\n    if (response) {\r\n      const newQuality = Object.assign({}, qualityEstimate, {id: -qualityEstimate.id});\r\n      delete this.costCenter.active;\r\n      const data = {\r\n        costCenter: this.costCenter,\r\n        quality: newQuality\r\n      };\r\n\r\n      this.storeQuality(data);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * reloadList\r\n   */\r\n  public reloadList = () => {\r\n    this.loaderService.startLoader('Cargando estimaciones de calidad');\r\n    this.contractDetailService.getCostCenterDetail(this.costCenter.id.toString()).subscribe((success: any) => {\r\n      this.storeService.setContractData(success.data);\r\n      this.loaderService.stopLoader();\r\n    }, error => {\r\n      this.loaderService.stopLoader();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * getItemDetails\r\n   * @param id\r\n   */\r\n  public getItemDetails = (id: number) => {\r\n    return this.qualityEstimateDetail.filter(item => item.qualityEstimate === id);\r\n  }\r\n\r\n  /**\r\n   * storeQuality\r\n   * @param data\r\n   */\r\n  private storeQuality = (data: any) => {\r\n    this.loaderService.startLoader('Borrando estimacion de calidad');\r\n    this.contractDetailService.storeQuality(data).subscribe(success => {\r\n      this.reloadList();\r\n      this.loaderService.stopLoader();\r\n    }, error => {\r\n      this.loaderService.stopLoader();\r\n      this.httpService.errorHandler(error);\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"planning-quality-estimate-quality-estimate-module-es5.js"}