(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{bGxW:function(e,l,n){"use strict";n.r(l);var t=n("8Y7J");class i{}var r=n("FhNQ"),a=n("pMnS"),c=n("5WAn"),o=n("DJZ2"),u=n("oBZk"),s=n("ZZ/e"),b=n("s7LF"),d=n("SVse"),h=n("AjED"),L=n("ocFP"),p=n("Gvy4"),k=n("sTnX");class T{constructor(e,l,n,t,i){this.ticketsService=e,this.storeService=l,this.httpService=n,this.loaderService=t,this.router=i,this.allTickets=[],this.filteredTickets=[],this.loadTickets=()=>{this.loaderService.startLoader("Cargando tickets");const e=this.storeService.getActiveCompany();this.ticketsService.getTickets({filter:"mi equipo",user:e.user,init:0,registers:0,order:0,search:""}).subscribe(e=>{this.allTickets=e.data.listTickets,this.filteredTickets=e.data.listTickets,this.loaderService.stopLoader()},e=>{this.loaderService.stopLoader(),this.httpService.errorHandler(e)})},this.searchTickets=e=>{this.filteredTickets=e?this.allTickets.filter(l=>l.id.toString().includes(e.toLowerCase())||l.client.toLowerCase().includes(e.toLowerCase())||l.maxResolution.toLowerCase().includes(e.toLowerCase())||l.state.toLowerCase().includes(e.toLowerCase())||l.createdAt.toLowerCase().includes(e.toLowerCase())):this.allTickets},this.cancelSearch=()=>{this.filteredTickets=this.allTickets},this.ticketSelected=e=>{this.router.navigate(["/home-page/ticket-details-list",e.id])},this.reSync=e=>{this.allTickets=[],this.filteredTickets=[],this.loadTickets(),e.target.complete()}}ngOnInit(){}ionViewDidEnter(){this.loadTickets()}deleteTicket(e){console.log("deleteTicket",e)}}var f=n("iInd"),g=t.Ab({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{--background:var(--color-background-tabs)}"]],data:{}});function v(e){return t.Xb(0,[(e()(),t.Cb(0,0,null,null,1,"app-ticket-card",[],null,[[null,"ticketSelected"],[null,"deleteTicketEvent"]],(function(e,l,n){var t=!0,i=e.component;return"ticketSelected"===l&&(t=!1!==i.ticketSelected(n)&&t),"deleteTicketEvent"===l&&(t=!1!==i.deleteTicket(n)&&t),t}),c.b,c.a)),t.Bb(1,114688,null,0,o.a,[],{ticket:[0,"ticket"]},{ticketSelected:"ticketSelected",deleteTicketEvent:"deleteTicketEvent"})],(function(e,l){e(l,1,0,l.context.$implicit)}),null)}function S(e){return t.Xb(0,[(e()(),t.Cb(0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),t.Cb(1,0,null,null,6,"ion-virtual-scroll",[],null,null,null,u.Pb,u.U)),t.Bb(2,835584,null,3,s.Eb,[t.F,t.x,t.p],{items:[0,"items"]},null),t.Tb(335544320,1,{itmTmp:0}),t.Tb(335544320,2,{hdrTmp:0}),t.Tb(335544320,3,{ftrTmp:0}),(e()(),t.rb(16777216,null,0,1,null,v)),t.Bb(7,16384,[[1,4]],0,s.Sb,[t.T,t.X],null,null)],(function(e,l){e(l,2,0,l.component.filteredTickets)}),null)}function C(e){return t.Xb(0,[(e()(),t.Cb(0,0,null,null,3,"ion-searchbar",[["animated",""],["class","production"],["placeholder","Buscar..."],["showCancelButton","never"]],null,[[null,"ionChange"],[null,"ionClear"],[null,"ionBlur"]],(function(e,l,n){var i=!0,r=e.component;return"ionBlur"===l&&(i=!1!==t.Nb(e,3)._handleBlurEvent(n.target)&&i),"ionChange"===l&&(i=!1!==t.Nb(e,3)._handleInputEvent(n.target)&&i),"ionChange"===l&&(i=!1!==r.searchTickets(n.target.value)&&i),"ionClear"===l&&(i=!1!==r.cancelSearch()&&i),i}),u.Fb,u.K)),t.Sb(5120,null,b.h,(function(e){return[e]}),[s.Qb]),t.Bb(2,49152,null,0,s.lb,[t.j,t.p,t.F],{animated:[0,"animated"],placeholder:[1,"placeholder"],showCancelButton:[2,"showCancelButton"]},null),t.Bb(3,16384,null,0,s.Qb,[t.p],null,null),(e()(),t.Cb(4,0,null,null,7,"ion-content",[],null,null,null,u.ib,u.n)),t.Bb(5,49152,null,0,s.v,[t.j,t.p,t.F],null,null),(e()(),t.Cb(6,0,null,0,3,"ion-refresher",[["class","refresher"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(e,l,n){var t=!0;return"ionRefresh"===l&&(t=!1!==e.component.reSync(n)&&t),t}),u.Db,u.H)),t.Bb(7,49152,null,0,s.eb,[t.j,t.p,t.F],null,null),(e()(),t.Cb(8,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["pullingText","Pull to refresh"],["refreshingSpinner","circles"],["refreshingText","Sincronizando..."]],null,null,null,u.Cb,u.I)),t.Bb(9,49152,null,0,s.fb,[t.j,t.p,t.F],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null),(e()(),t.rb(16777216,null,0,1,null,S)),t.Bb(11,16384,null,0,d.l,[t.X,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component;e(l,2,0,"","Buscar...","never"),e(l,9,0,"arrow-dropdown","Pull to refresh","circles","Sincronizando..."),e(l,11,0,n.filteredTickets.length>0)}),null)}function m(e){return t.Xb(0,[(e()(),t.Cb(0,0,null,null,1,"app-all",[],null,null,null,C,g)),t.Bb(1,114688,null,0,T,[h.a,L.a,p.a,k.a,f.n],null,null)],(function(e,l){e(l,1,0)}),null)}var w=t.yb("app-all",T,m,{},{},[]),B=n("IheW"),F=n("aVMi"),x=n("1dSU"),I=n("xgBC"),E=n("biaL"),X=n("QURO"),y=n("ElRG"),M=n("v2G1"),P=n("t8sF"),R=n("s3Gz"),j=n("ZWll"),N=n("Pn9U"),z=n("niFY"),A=n("imvL"),G=n("wMzM"),D=n("Q1xG"),O=n("PCNd");class Q{}n.d(l,"AllPageModuleNgFactory",(function(){return Z}));var Z=t.zb(i,[],(function(e){return t.Kb([t.Lb(512,t.m,t.kb,[[8,[r.a,a.a,w]],[3,t.m],t.D]),t.Lb(4608,d.n,d.m,[t.z,[2,d.y]]),t.Lb(4608,b.o,b.o,[]),t.Lb(4608,s.c,s.c,[t.F,t.g]),t.Lb(4608,s.Ib,s.Ib,[s.c,t.m,t.w]),t.Lb(4608,s.Mb,s.Mb,[s.c,t.m,t.w]),t.Lb(4608,B.j,B.p,[d.c,t.I,B.n]),t.Lb(4608,B.q,B.q,[B.j,B.o]),t.Lb(5120,B.a,(function(e){return[e]}),[B.q]),t.Lb(4608,B.m,B.m,[]),t.Lb(6144,B.k,null,[B.m]),t.Lb(4608,B.i,B.i,[B.k]),t.Lb(6144,B.b,null,[B.i]),t.Lb(4608,B.g,B.l,[B.b,t.w]),t.Lb(4608,B.c,B.c,[B.g]),t.Lb(4608,b.c,b.c,[]),t.Lb(4608,F.a,F.a,[s.Rb]),t.Lb(4608,p.a,p.a,[f.n,L.a,F.a]),t.Lb(4608,x.a,x.a,[I.b]),t.Lb(4608,E.a,E.a,[B.c,p.a,x.a]),t.Lb(4608,X.a,X.a,[y.a,s.Lb]),t.Lb(4608,M.a,M.a,[s.b]),t.Lb(4608,P.a,P.a,[]),t.Lb(4608,R.a,R.a,[]),t.Lb(4608,j.a,j.a,[N.a,F.a,k.a]),t.Lb(4608,z.a,z.a,[A.a,B.c,x.a,p.a]),t.Lb(4608,G.a,G.a,[]),t.Lb(4608,h.a,h.a,[p.a,B.c]),t.Lb(1073742336,d.b,d.b,[]),t.Lb(1073742336,b.n,b.n,[]),t.Lb(1073742336,b.g,b.g,[]),t.Lb(1073742336,s.Fb,s.Fb,[]),t.Lb(1073742336,B.e,B.e,[]),t.Lb(1073742336,B.d,B.d,[]),t.Lb(1073742336,b.l,b.l,[]),t.Lb(1073742336,D.a,D.a,[]),t.Lb(1073742336,O.a,O.a,[]),t.Lb(1073742336,f.p,f.p,[[2,f.u],[2,f.n]]),t.Lb(1073742336,Q,Q,[]),t.Lb(1073742336,i,i,[]),t.Lb(256,B.n,"XSRF-TOKEN",[]),t.Lb(256,B.o,"X-XSRF-TOKEN",[]),t.Lb(1024,f.l,(function(){return[[{path:"",component:T}]]}),[])])}))}}]);