function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(l,n){for(var e=0;e<n.length;e++){var u=n[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,e){return n&&_defineProperties(l.prototype,n),e&&_defineProperties(l,e),l}(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{BnaM:function(l,n,e){"use strict";e.r(n);var u=e("8Y7J"),t=e("mrSG"),i=e("iInd"),r=e("y2UQ"),a=e("ZZ/e"),o=e("s7LF"),s=e("imvL"),c=e("niFY"),b=e("aVMi"),d=e("Gvy4"),p=e("sTnX"),m=e("ocFP"),g=function(){function l(n,e,u,t,i,r,a,s,c){var b=this;_classCallCheck(this,l),this.modalController=n,this.formBuilder=e,this.authService=u,this.contractDetailService=t,this.syncService=i,this.toastService=r,this.httpService=a,this.loaderService=s,this.storeService=c,this.customActionSheetOptions={header:"Calidades",keyboardClose:!1,backdropDismiss:!1},this.isSaving=!1,this.closeModal=function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];b.qualityForm.reset(),b.modalController.dismiss(l)},this.submit=function(){if(b.qualityForm.valid&&!b.isSaving){b.isSaving=!0,delete b.costCenter.active;var l=Object.assign({},b.qualityForm.value,{costCenter:b.costCenter});l.calibers=l.calibers.map((function(l){return Object.assign({},l,{percentage:""===l.percentage?0:l.percentage})})).filter((function(l){return l.percentage>0})),b.storeQuality(l)}else b.isSaving=!1},this.getCaliberName=function(l){var n=b.calibers.find((function(n){return n.id===l.get("caliber").value}));return n?n.name:"NOMBRE CALIBRE"},this.validateCalibers=function(l){var n=l.get("calibers"),e=0,u=!0,t=!1,i=void 0;try{for(var r,a=n.controls[Symbol.iterator]();!(u=(r=a.next()).done);u=!0){var o=r.value,s=o.get("percentage").value?o.get("percentage").value:0;s&&(e+=s)}}catch(c){t=!0,i=c}finally{try{u||null==a.return||a.return()}finally{if(t)throw i}}return e<100||e>100?{wrongPercentage:!0}:null},this.getTotal=function(){var l=b.qualityForm.get("calibers"),n=0,e=!0,u=!1,t=void 0;try{for(var i,r=l.controls[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var a=i.value,o=a.get("percentage").value?a.get("percentage").value:0;o&&o>0&&(n+=o)}}catch(s){u=!0,t=s}finally{try{e||null==r.return||r.return()}finally{if(u)throw t}}return n},this.getSelectedQuality=function(){if(b.qualities){var l=b.qualityForm.get("quality.quality").value,n=b.qualities.find((function(n){return n.id===l}));return n?n.name:""}return""},this.loadCalibers=function(){b.calibers=b.storeService.getCalibers(),b.qualities=b.storeService.getQualities(),b.filteredCalibers=b.calibers.filter((function(l){return l.species===b.costCenter.species}));var l=b.qualityForm.get("calibers"),n=!0,e=!1,u=void 0;try{for(var t,i=function(){var n=t.value,e=null;b.qualityEstimateDetail&&(e=b.qualityEstimateDetail.find((function(l){return l.caliber===n.id})));var u=b.formBuilder.group({id:[e?e.id:0,o.m.required],quality:[e?e.qualityEstimate:0,o.m.required],caliber:[n.id,o.m.required],percentage:[{value:e?e.value:"",disabled:b.isView},[o.m.max(100),o.m.min(0)]],temp:[1]});l.push(u)},r=b.filteredCalibers[Symbol.iterator]();!(n=(t=r.next()).done);n=!0)i()}catch(a){e=!0,u=a}finally{try{n||null==r.return||r.return()}finally{if(e)throw u}}}}return _createClass(l,[{key:"ngOnInit",value:function(){this.userCompany=this.storeService.getActiveCompany(),this.qualityForm=this.formBuilder.group(this.isView?{quality:this.formBuilder.group({id:[this.qualityEstimate.id,o.m.required],costCenter:[this.costCenter.id,o.m.required],user:[this.userCompany.user,o.m.required],quality:[{value:this.qualityEstimate.quality,disabled:!0},o.m.required],exportPercentage:[{value:this.qualityEstimate.exportPercentage,disabled:!0},[o.m.required,o.m.max(100),o.m.min(0)]],temp:[1]}),calibers:this.formBuilder.array([])}:{quality:this.formBuilder.group({id:[0,o.m.required],costCenter:[this.costCenter.id,o.m.required],user:[this.userCompany.user,o.m.required],quality:[this.previous?this.previous.quality:"",o.m.required],exportPercentage:[this.previous?this.previous.exportPercentage:"",[o.m.required,o.m.max(100),o.m.min(0)]],temp:[1]}),calibers:this.formBuilder.array([])},{validator:this.validateCalibers}),this.loadCalibers()}},{key:"storeQuality",value:function(l){var n=this;this.loaderService.startLoader("Guardando estimacion..."),this.contractDetailService.storeQuality(l).subscribe((function(l){n.isSaving=!1,n.loaderService.stopLoader(),n.closeModal(!0)}),(function(l){n.isSaving=!1,n.loaderService.stopLoader(),n.httpService.errorHandler(l)}))}}]),l}(),h=e("v2G1"),f=e("vf+8"),C=function(){function l(n,e,u,i,r,a,o,s){var c=this;_classCallCheck(this,l),this.router=n,this.contractDetailService=e,this.modalController=u,this.alertService=i,this.httpService=r,this.loaderService=a,this.networkService=o,this.storeService=s,this.checkButton=function(){return"/home-page/quality-estimate"===c.currentUrl},this.openForm=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t.__awaiter(c,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({component:g,componentProps:{costCenter:this.costCenter,qualityEstimate:l,qualityEstimateDetail:l?this.qualityEstimateDetail.filter((function(n){return n.qualityEstimate===l.id})):[],isView:null!==l,previous:this.qualityEstimate.length>0?this.qualityEstimate[0]:null},backdropDismiss:!1,keyboardClose:!1,cssClass:"full-screen-modal"});case 2:return(e=n.sent).onDidDismiss().then((function(l){l.data&&u.reloadList()})),n.next=6,e.present();case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n,this)})))},this.searchQuality=function(l){c.filteredQualityEstimate=l?c.qualityEstimate.filter((function(n){return n.userName.toLowerCase().includes(l.toLowerCase())||n.qualityName.toLowerCase().includes(l.toLowerCase())||n.exportPercentage===parseInt(l,10)})):c.qualityEstimate},this.cancelSearch=function(){c.filteredQualityEstimate=c.qualityEstimate},this.viewQuality=function(l){return t.__awaiter(c,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.openForm(l);case 2:case"end":return n.stop()}}),n,this)})))},this.deleteQuality=function(l){return t.__awaiter(c,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertService.confirmAlert("Desea borrar esta estimacion de calidad?");case 2:if(!n.sent){n.next=5;break}e=Object.assign({},l,{id:-l.id}),delete this.costCenter.active,this.storeQuality({costCenter:this.costCenter,quality:e});case 5:case"end":return n.stop()}}),n,this)})))},this.reloadList=function(){c.loaderService.startLoader("Cargando estimaciones de calidad"),c.contractDetailService.getCostCenterDetail(c.costCenter.id.toString()).subscribe((function(l){c.storeService.setContractData(l.data),c.loaderService.stopLoader()}),(function(l){c.loaderService.stopLoader()}))},this.getItemDetails=function(l){return c.qualityEstimateDetail.filter((function(n){return n.qualityEstimate===l}))},this.storeQuality=function(l){c.loaderService.startLoader("Borrando estimacion de calidad"),c.contractDetailService.storeQuality(l).subscribe((function(l){c.reloadList(),c.loaderService.stopLoader()}),(function(l){c.loaderService.stopLoader(),c.httpService.errorHandler(l)}))},this.isOnline$=this.networkService.getNetworkStatus().subscribe((function(l){c.isOnline=l}))}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.router$=this.router.events.subscribe((function(n){n instanceof i.d&&(l.currentUrl=n.url)})),this.store$=this.storeService.stateChanged.subscribe((function(n){l.costCenter=l.storeService.getCostCenter(),l.qualityEstimate=l.storeService.getQualityEstimate(),l.filteredQualityEstimate=l.storeService.getQualityEstimate(),l.qualityEstimateDetail=l.storeService.getQualityEstimateDetail()}))}},{key:"ngOnDestroy",value:function(){this.isOnline$.unsubscribe(),this.router$.unsubscribe(),this.store$.unsubscribe()}}]),l}(),v=function l(){_classCallCheck(this,l)},y=e("FhNQ"),B=e("pMnS"),q=e("yXaf"),S=e("cbxp"),x=e("oBZk"),F=e("KcSc"),L=e("X2tk"),E=e("SVse"),w=u.Ab({encapsulation:0,styles:[[""]],data:{}});function N(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,3,"div",[["class","card-sli"]],null,null,null,null,null)),(l()(),u.Cb(2,0,null,null,2,"div",[["class","card-sli-back"]],null,null,null,null,null)),(l()(),u.Cb(3,0,null,null,1,"app-quality-estimate-item",[],null,[[null,"itemDelete"],[null,"itemSelected"]],(function(l,n,e){var u=!0,t=l.component;return"itemDelete"===n&&(u=!1!==t.deleteQuality(l.context.$implicit)&&u),"itemSelected"===n&&(u=!1!==t.viewQuality(l.context.$implicit)&&u),u}),q.b,q.a)),u.Bb(4,114688,null,0,S.a,[m.a],{costCenter:[0,"costCenter"],item:[1,"item"],details:[2,"details"],isOld:[3,"isOld"],slideDisabled:[4,"slideDisabled"]},{itemSelected:"itemSelected",itemDelete:"itemDelete"})],(function(l,n){var e=n.component;l(n,4,0,e.costCenter,n.context.$implicit,e.getItemDetails(n.context.$implicit.id),n.context.index>0,!1)}),null)}function I(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,x.lb,x.p)),u.Bb(2,49152,null,0,a.x,[u.j,u.p,u.F],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),u.Cb(3,0,null,0,3,"ion-fab-button",[["color","success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openForm()&&u),u}),x.kb,x.q)),u.Bb(4,49152,null,0,a.y,[u.j,u.p,u.F],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),u.Cb(5,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,x.ob,x.t)),u.Bb(6,49152,null,0,a.D,[u.j,u.p,u.F],{name:[0,"name"]},null)],(function(l,n){var e=n.component;l(n,2,0,"end","bottom"),l(n,4,0,"success",!e.costCenter||!e.isOnline),l(n,6,0,"add")}),null)}function k(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,16,"ion-header",[],null,null,null,x.nb,x.s)),u.Bb(1,49152,null,0,a.C,[u.j,u.p,u.F],null,null),(l()(),u.Cb(2,0,null,0,14,"ion-toolbar",[["class","background-color-header"]],null,null,null,x.Ob,x.T)),u.Bb(3,49152,null,0,a.Db,[u.j,u.p,u.F],null,null),(l()(),u.Cb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,x.ab,x.f)),u.Bb(5,49152,null,0,a.m,[u.j,u.p,u.F],null,null),(l()(),u.Cb(6,0,null,0,2,"ion-back-button",[["class","white"],["text",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Nb(l,8).onClick(e)&&t),t}),x.X,x.c)),u.Bb(7,49152,null,0,a.h,[u.j,u.p,u.F],{text:[0,"text"]},null),u.Bb(8,16384,null,0,a.i,[[2,a.jb],a.Jb],null,null),(l()(),u.Cb(9,0,null,0,3,"ion-title",[["class","white"]],null,null,null,x.Nb,x.S)),u.Bb(10,49152,null,0,a.Bb,[u.j,u.p,u.F],null,null),(l()(),u.Cb(11,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Estimaci\xf3n de Calidad"])),(l()(),u.Cb(13,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,x.ab,x.f)),u.Bb(14,49152,null,0,a.m,[u.j,u.p,u.F],null,null),(l()(),u.Cb(15,0,null,0,1,"app-notifications",[],null,null,null,F.b,F.a)),u.Bb(16,114688,null,0,L.a,[],null,null),(l()(),u.Cb(17,0,null,null,3,"ion-searchbar",[["animated",""],["class","production"],["placeholder","Buscar..."],["showCancelButton","never"]],null,[[null,"ionChange"],[null,"ionClear"],[null,"ionBlur"]],(function(l,n,e){var t=!0,i=l.component;return"ionBlur"===n&&(t=!1!==u.Nb(l,20)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Nb(l,20)._handleInputEvent(e.target)&&t),"ionChange"===n&&(t=!1!==i.searchQuality(e.target.value)&&t),"ionClear"===n&&(t=!1!==i.cancelSearch()&&t),t}),x.Fb,x.K)),u.Sb(5120,null,o.h,(function(l){return[l]}),[a.Qb]),u.Bb(19,49152,null,0,a.lb,[u.j,u.p,u.F],{animated:[0,"animated"],placeholder:[1,"placeholder"],showCancelButton:[2,"showCancelButton"]},null),u.Bb(20,16384,null,0,a.Qb,[u.p],null,null),(l()(),u.Cb(21,0,null,null,5,"ion-content",[["class","content"]],null,null,null,x.ib,x.n)),u.Bb(22,49152,null,0,a.v,[u.j,u.p,u.F],null,null),(l()(),u.rb(16777216,null,0,1,null,N)),u.Bb(24,278528,null,0,E.k,[u.X,u.T,u.x],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(16777216,null,0,1,null,I)),u.Bb(26,16384,null,0,E.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,""),l(n,16,0),l(n,19,0,"","Buscar...","never"),l(n,24,0,e.filteredQualityEstimate),l(n,26,0,e.checkButton())}),null)}var j=u.yb("app-quality-estimate",C,(function(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,1,"app-quality-estimate",[],null,null,null,k,w)),u.Bb(1,245760,null,0,C,[i.n,r.a,a.Ib,h.a,d.a,p.a,f.a,m.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),O=u.Ab({encapsulation:0,styles:[[".errorMsg[_ngcontent-%COMP%]{color:red;padding-left:15px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{min-width:50%}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{text-align:right}.total-padding[_ngcontent-%COMP%]{--padding-end:37px}"]],data:{}});function D(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,"ion-select-option",[],null,null,null,x.Gb,x.M)),u.Bb(1,49152,null,0,a.pb,[u.j,u.p,u.F],{value:[0,"value"]},null),(l()(),u.Vb(2,0,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.id)}),(function(l,n){l(n,2,0,n.context.$implicit.name)}))}function P(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"span",[["class","errorMsg"]],null,null,null,null,null)),(l()(),u.Vb(-1,null,["Seleccione la Calidad"]))],null,null)}function X(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"span",[["class","errorMsg"]],null,null,null,null,null)),(l()(),u.Vb(-1,null,["El porcentaje maximo es 100"]))],null,null)}function _(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"span",[["class","errorMsg"]],null,null,null,null,null)),(l()(),u.Vb(-1,null,["El porcentaje minimo es 0"]))],null,null)}function Q(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"span",[["class","errorMsg"]],null,null,null,null,null)),(l()(),u.Vb(-1,null,["El porcentaje maximo es 100"]))],null,null)}function V(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"span",[["class","errorMsg"]],null,null,null,null,null)),(l()(),u.Vb(-1,null,["El porcentaje minimo es 0"]))],null,null)}function T(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,19,null,null,null,null,null,null,null)),u.Bb(1,212992,null,0,o.f,[[3,o.a],[8,null],[8,null]],{name:[0,"name"]},null),u.Sb(2048,null,o.a,null,[o.f]),u.Bb(3,16384,null,0,o.k,[[4,o.a]],null,null),(l()(),u.Cb(4,0,null,null,11,"ion-item",[],null,null,null,x.ub,x.w)),u.Bb(5,49152,null,0,a.I,[u.j,u.p,u.F],null,null),(l()(),u.Cb(6,0,null,0,2,"ion-label",[["position","fixed"]],null,null,null,x.vb,x.A)),u.Bb(7,49152,null,0,a.O,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Vb(8,0,["",""])),(l()(),u.Cb(9,0,null,0,6,"ion-input",[["clearInput",""],["formControlName","percentage"],["placeholder","Ingrese el %"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0;return"ionBlur"===n&&(t=!1!==u.Nb(l,10)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Nb(l,10)._handleIonChange(e.target)&&t),t}),x.qb,x.v)),u.Bb(10,16384,null,0,a.Kb,[u.p],null,null),u.Sb(1024,null,o.h,(function(l){return[l]}),[a.Kb]),u.Bb(12,671744,null,0,o.d,[[3,o.a],[8,null],[8,null],[6,o.h],[2,o.p]],{name:[0,"name"]},null),u.Sb(2048,null,o.i,null,[o.d]),u.Bb(14,16384,null,0,o.j,[[4,o.i]],null,null),u.Bb(15,49152,null,0,a.H,[u.j,u.p,u.F],{clearInput:[0,"clearInput"],placeholder:[1,"placeholder"],type:[2,"type"]},null),(l()(),u.rb(16777216,null,null,1,null,Q)),u.Bb(17,16384,null,0,E.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(16777216,null,null,1,null,V)),u.Bb(19,16384,null,0,E.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(0,null,null,0))],(function(l,n){var e=n.context.index.toString();l(n,1,0,e),l(n,7,0,"fixed"),l(n,12,0,"percentage"),l(n,15,0,"","Ingrese el %","number");var u=n.context.$implicit.get("percentage").hasError("max");l(n,17,0,u);var t=n.context.$implicit.get("percentage").hasError("min");l(n,19,0,t)}),(function(l,n){l(n,8,0,n.component.getCaliberName(n.context.$implicit)),l(n,9,0,u.Nb(n,14).ngClassUntouched,u.Nb(n,14).ngClassTouched,u.Nb(n,14).ngClassPristine,u.Nb(n,14).ngClassDirty,u.Nb(n,14).ngClassValid,u.Nb(n,14).ngClassInvalid,u.Nb(n,14).ngClassPending)}))}function M(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,1,"span",[["class","errorMsg"]],null,null,null,null,null)),(l()(),u.Vb(-1,null,["El porcentaje total debe sumar 100%"]))],null,null)}function R(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),u.Cb(1,0,null,null,2,"ion-button",[["color","primary"],["expand","block"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.submit()&&u),u}),x.Z,x.e)),u.Bb(2,49152,null,0,a.l,[u.j,u.p,u.F],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(l()(),u.Vb(-1,0,[" Guardar "]))],(function(l,n){var e=n.component;l(n,2,0,"primary",e.qualityForm.invalid||e.isSaving,"block")}),null)}function $(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,12,"ion-header",[],null,null,null,x.nb,x.s)),u.Bb(1,49152,null,0,a.C,[u.j,u.p,u.F],null,null),(l()(),u.Cb(2,0,null,0,10,"ion-toolbar",[["color","primary"]],null,null,null,x.Ob,x.T)),u.Bb(3,49152,null,0,a.Db,[u.j,u.p,u.F],{color:[0,"color"]},null),(l()(),u.Cb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,x.ab,x.f)),u.Bb(5,49152,null,0,a.m,[u.j,u.p,u.F],null,null),(l()(),u.Cb(6,0,null,0,3,"ion-button",[["color","secondary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeModal()&&u),u}),x.Z,x.e)),u.Bb(7,49152,null,0,a.l,[u.j,u.p,u.F],{color:[0,"color"]},null),(l()(),u.Cb(8,0,null,0,1,"ion-icon",[["name","arrow-back"],["slot","icon-only"],["style","color:white;"]],null,null,null,x.ob,x.t)),u.Bb(9,49152,null,0,a.D,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.Cb(10,0,null,0,2,"ion-title",[],null,null,null,x.Nb,x.S)),u.Bb(11,49152,null,0,a.Bb,[u.j,u.p,u.F],null,null),(l()(),u.Vb(12,0,[""," Calidad"])),(l()(),u.Cb(13,0,null,null,74,"ion-content",[],null,null,null,x.ib,x.n)),u.Bb(14,49152,null,0,a.v,[u.j,u.p,u.F],null,null),(l()(),u.Cb(15,0,null,0,72,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Nb(l,17).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Nb(l,17).onReset()&&t),t}),null,null)),u.Bb(16,16384,null,0,o.q,[],null,null),u.Bb(17,540672,null,0,o.e,[[8,null],[8,null]],{form:[0,"form"]},null),u.Sb(2048,null,o.a,null,[o.e]),u.Bb(19,16384,null,0,o.k,[[4,o.a]],null,null),(l()(),u.Cb(20,0,null,null,38,null,null,null,null,null,null,null)),u.Bb(21,212992,null,0,o.f,[[3,o.a],[8,null],[8,null]],{name:[0,"name"]},null),u.Sb(2048,null,o.a,null,[o.f]),u.Bb(23,16384,null,0,o.k,[[4,o.a]],null,null),(l()(),u.Cb(24,0,null,null,13,"ion-item",[],null,null,null,x.ub,x.w)),u.Bb(25,49152,null,0,a.I,[u.j,u.p,u.F],null,null),(l()(),u.Cb(26,0,null,0,2,"ion-label",[["position","fixed"]],null,null,null,x.vb,x.A)),u.Bb(27,49152,null,0,a.O,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Vb(-1,0,["Calidad"])),(l()(),u.Cb(29,0,null,0,8,"ion-select",[["cancelText","Cancelar"],["formControlName","quality"],["interface","action-sheet"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0;return"ionBlur"===n&&(t=!1!==u.Nb(l,30)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Nb(l,30)._handleChangeEvent(e.target)&&t),t}),x.Hb,x.L)),u.Bb(30,16384,null,0,a.Pb,[u.p],null,null),u.Sb(1024,null,o.h,(function(l){return[l]}),[a.Pb]),u.Bb(32,671744,null,0,o.d,[[3,o.a],[8,null],[8,null],[6,o.h],[2,o.p]],{name:[0,"name"]},null),u.Sb(2048,null,o.i,null,[o.d]),u.Bb(34,16384,null,0,o.j,[[4,o.i]],null,null),u.Bb(35,49152,null,0,a.ob,[u.j,u.p,u.F],{cancelText:[0,"cancelText"],interface:[1,"interface"],interfaceOptions:[2,"interfaceOptions"],selectedText:[3,"selectedText"]},null),(l()(),u.rb(16777216,null,0,1,null,D)),u.Bb(37,278528,null,0,E.k,[u.X,u.T,u.x],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(16777216,null,null,2,null,P)),u.Bb(39,16384,null,0,E.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),u.Ob(40,2),(l()(),u.Cb(41,0,null,null,11,"ion-item",[],null,null,null,x.ub,x.w)),u.Bb(42,49152,null,0,a.I,[u.j,u.p,u.F],null,null),(l()(),u.Cb(43,0,null,0,2,"ion-label",[["position","fixed"]],null,null,null,x.vb,x.A)),u.Bb(44,49152,null,0,a.O,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Vb(-1,0,["% de Exportaci\xf3n"])),(l()(),u.Cb(46,0,null,0,6,"ion-input",[["clearInput",""],["formControlName","exportPercentage"],["placeholder","Ingrese el %"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0;return"ionBlur"===n&&(t=!1!==u.Nb(l,47)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Nb(l,47)._handleIonChange(e.target)&&t),t}),x.qb,x.v)),u.Bb(47,16384,null,0,a.Kb,[u.p],null,null),u.Sb(1024,null,o.h,(function(l){return[l]}),[a.Kb]),u.Bb(49,671744,null,0,o.d,[[3,o.a],[8,null],[8,null],[6,o.h],[2,o.p]],{name:[0,"name"]},null),u.Sb(2048,null,o.i,null,[o.d]),u.Bb(51,16384,null,0,o.j,[[4,o.i]],null,null),u.Bb(52,49152,null,0,a.H,[u.j,u.p,u.F],{clearInput:[0,"clearInput"],placeholder:[1,"placeholder"],type:[2,"type"]},null),(l()(),u.rb(16777216,null,null,2,null,X)),u.Bb(54,16384,null,0,E.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),u.Ob(55,2),(l()(),u.rb(16777216,null,null,2,null,_)),u.Bb(57,16384,null,0,E.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),u.Ob(58,2),(l()(),u.Cb(59,0,null,null,24,null,null,null,null,null,null,null)),u.Bb(60,212992,null,0,o.b,[[3,o.a],[8,null],[8,null]],{name:[0,"name"]},null),u.Sb(2048,null,o.a,null,[o.b]),u.Bb(62,16384,null,0,o.k,[[4,o.a]],null,null),(l()(),u.Cb(63,0,null,null,20,"ion-list",[],null,null,null,x.xb,x.B)),u.Bb(64,49152,null,0,a.P,[u.j,u.p,u.F],null,null),(l()(),u.Cb(65,0,null,0,2,"ion-list-header",[],null,null,null,x.wb,x.C)),u.Bb(66,49152,null,0,a.Q,[u.j,u.p,u.F],null,null),(l()(),u.Vb(-1,0,[" Datos Calibres "])),(l()(),u.rb(16777216,null,0,1,null,T)),u.Bb(69,278528,null,0,E.k,[u.X,u.T,u.x],{ngForOf:[0,"ngForOf"]},null),(l()(),u.Cb(70,0,null,0,11,"ion-item",[],null,null,null,x.ub,x.w)),u.Bb(71,49152,null,0,a.I,[u.j,u.p,u.F],null,null),(l()(),u.Cb(72,0,null,0,2,"ion-label",[["position","fixed"]],null,null,null,x.vb,x.A)),u.Bb(73,49152,null,0,a.O,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Vb(-1,0,["Total"])),(l()(),u.Cb(75,0,null,0,6,"ion-input",[["clearInput",""],["readonly","true"],["type","number"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0;return"ionBlur"===n&&(t=!1!==u.Nb(l,81)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Nb(l,81)._handleIonChange(e.target)&&t),t}),x.qb,x.v)),u.Sb(5120,null,o.h,(function(l){return[l]}),[a.Kb]),u.Sb(512,null,E.v,E.w,[u.x,u.y,u.p,u.L]),u.Bb(78,278528,null,0,E.j,[E.v],{ngClass:[0,"ngClass"]},null),u.Qb(79,{"total-padding":0}),u.Bb(80,49152,null,0,a.H,[u.j,u.p,u.F],{clearInput:[0,"clearInput"],disabled:[1,"disabled"],readonly:[2,"readonly"],type:[3,"type"],value:[4,"value"]},null),u.Bb(81,16384,null,0,a.Kb,[u.p],null,null),(l()(),u.rb(16777216,null,0,1,null,M)),u.Bb(83,16384,null,0,E.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(l()(),u.Cb(84,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u.Cb(85,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u.rb(16777216,null,null,1,null,R)),u.Bb(87,16384,null,0,E.l,[u.X,u.T],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,"primary"),l(n,7,0,"secondary"),l(n,9,0,"arrow-back"),l(n,17,0,e.qualityForm),l(n,21,0,"quality"),l(n,27,0,"fixed"),l(n,32,0,"quality"),l(n,35,0,"Cancelar","action-sheet",e.customActionSheetOptions,e.getSelectedQuality()),l(n,37,0,e.qualities);var u=e.qualityForm.get(l(n,40,0,"quality","quality")).hasError("required");l(n,39,0,u),l(n,44,0,"fixed"),l(n,49,0,"exportPercentage"),l(n,52,0,"","Ingrese el %","number");var t=e.qualityForm.get(l(n,55,0,"quality","exportPercentage")).hasError("max");l(n,54,0,t);var i=e.qualityForm.get(l(n,58,0,"quality","exportPercentage")).hasError("min");l(n,57,0,i),l(n,60,0,"calibers"),l(n,69,0,e.qualityForm.get("calibers").controls),l(n,73,0,"fixed");var r=l(n,79,0,!e.isView);l(n,78,0,r),l(n,80,0,"",e.isView,"true","number",e.getTotal()),l(n,83,0,!e.isView&&e.qualityForm.hasError("wrongPercentage")),l(n,87,0,!e.qualityEstimate)}),(function(l,n){l(n,12,0,n.component.qualityEstimate?"Ver":"Registrar"),l(n,15,0,u.Nb(n,19).ngClassUntouched,u.Nb(n,19).ngClassTouched,u.Nb(n,19).ngClassPristine,u.Nb(n,19).ngClassDirty,u.Nb(n,19).ngClassValid,u.Nb(n,19).ngClassInvalid,u.Nb(n,19).ngClassPending),l(n,29,0,u.Nb(n,34).ngClassUntouched,u.Nb(n,34).ngClassTouched,u.Nb(n,34).ngClassPristine,u.Nb(n,34).ngClassDirty,u.Nb(n,34).ngClassValid,u.Nb(n,34).ngClassInvalid,u.Nb(n,34).ngClassPending),l(n,46,0,u.Nb(n,51).ngClassUntouched,u.Nb(n,51).ngClassTouched,u.Nb(n,51).ngClassPristine,u.Nb(n,51).ngClassDirty,u.Nb(n,51).ngClassValid,u.Nb(n,51).ngClassInvalid,u.Nb(n,51).ngClassPending)}))}var A=u.yb("app-quality-estimate-form",g,(function(l){return u.Xb(0,[(l()(),u.Cb(0,0,null,null,1,"app-quality-estimate-form",[],null,null,null,$,O)),u.Bb(1,114688,null,0,g,[a.Ib,o.c,s.a,r.a,c.a,b.a,d.a,p.a,m.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{costCenter:"costCenter",qualityEstimate:"qualityEstimate",qualityEstimateDetail:"qualityEstimateDetail",isView:"isView",previous:"previous"},{},[]),K=e("IheW"),U=e("1dSU"),G=e("xgBC"),z=e("biaL"),H=e("QURO"),Z=e("ElRG"),J=e("t8sF"),W=e("s3Gz"),Y=e("ZWll"),ll=e("Pn9U"),nl=e("wMzM"),el=e("AjED"),ul=e("Q1xG"),tl=e("PCNd");e.d(n,"QualityEstimatePageModuleNgFactory",(function(){return il}));var il=u.zb(v,[],(function(l){return u.Kb([u.Lb(512,u.m,u.kb,[[8,[y.a,B.a,j,A]],[3,u.m],u.D]),u.Lb(4608,E.n,E.m,[u.z,[2,E.y]]),u.Lb(4608,o.o,o.o,[]),u.Lb(4608,a.c,a.c,[u.F,u.g]),u.Lb(4608,a.Ib,a.Ib,[a.c,u.m,u.w]),u.Lb(4608,a.Mb,a.Mb,[a.c,u.m,u.w]),u.Lb(4608,K.j,K.p,[E.c,u.I,K.n]),u.Lb(4608,K.q,K.q,[K.j,K.o]),u.Lb(5120,K.a,(function(l){return[l]}),[K.q]),u.Lb(4608,K.m,K.m,[]),u.Lb(6144,K.k,null,[K.m]),u.Lb(4608,K.i,K.i,[K.k]),u.Lb(6144,K.b,null,[K.i]),u.Lb(4608,K.g,K.l,[K.b,u.w]),u.Lb(4608,K.c,K.c,[K.g]),u.Lb(4608,o.c,o.c,[]),u.Lb(4608,b.a,b.a,[a.Rb]),u.Lb(4608,d.a,d.a,[i.n,m.a,b.a]),u.Lb(4608,U.a,U.a,[G.b]),u.Lb(4608,z.a,z.a,[K.c,d.a,U.a]),u.Lb(4608,H.a,H.a,[Z.a,a.Lb]),u.Lb(4608,h.a,h.a,[a.b]),u.Lb(4608,J.a,J.a,[]),u.Lb(4608,W.a,W.a,[]),u.Lb(4608,Y.a,Y.a,[ll.a,b.a,p.a]),u.Lb(4608,c.a,c.a,[s.a,K.c,U.a,d.a]),u.Lb(4608,nl.a,nl.a,[]),u.Lb(4608,el.a,el.a,[d.a,K.c]),u.Lb(1073742336,E.b,E.b,[]),u.Lb(1073742336,o.n,o.n,[]),u.Lb(1073742336,o.g,o.g,[]),u.Lb(1073742336,a.Fb,a.Fb,[]),u.Lb(1073742336,K.e,K.e,[]),u.Lb(1073742336,K.d,K.d,[]),u.Lb(1073742336,o.l,o.l,[]),u.Lb(1073742336,ul.a,ul.a,[]),u.Lb(1073742336,tl.a,tl.a,[]),u.Lb(1073742336,i.p,i.p,[[2,i.u],[2,i.n]]),u.Lb(1073742336,v,v,[]),u.Lb(256,K.n,"XSRF-TOKEN",[]),u.Lb(256,K.o,"X-XSRF-TOKEN",[]),u.Lb(1024,i.l,(function(){return[[{path:"",component:C}]]}),[])])}))}}]);