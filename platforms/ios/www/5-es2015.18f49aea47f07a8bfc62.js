(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{xz6d:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J"),i=u("mrSG"),r=u("s7LF"),t=u("sTnX"),o=u("imvL"),a=u("iInd"),s=u("aVMi"),b=u("biaL"),c=u("niFY"),d=u("Gvy4"),g=u("ocFP");class m{constructor(l,n,u,e,r,t,o,a,s){this.formBuilder=l,this.loaderService=n,this.authService=u,this.router=e,this.toastService=r,this.syncService=t,this.userService=o,this.httpService=a,this.storeService=s,this.onSubmit=()=>i.__awaiter(this,void 0,void 0,(function*(){try{const l=Object.assign({},this.loginForm.value);l.username=l.username.toLowerCase();const n=yield this.login(l);l.remember?(this.storeService.setRemember(!0),this.storeService.setRememberData(l)):(this.storeService.setRemember(!1),this.storeService.removeRememberData()),n&&1===n.code?this.addPin(n):null!==n&&(this.storeService.setUser(n.user),this.storeService.setUserConnections(n.connections),this.storeService.setToken(n.token),this.storeService.setLoginStatus(!0),this.makeLogin())}catch(l){console.log({e:l})}})),this.addPin=l=>{this.toastService.warningToast(l.message),this.loginForm.reset(),this.storeService.setToken(l.token),this.router.navigate(["auth/pin"])},this.makeLogin=()=>{this.loginForm.reset(),this.router.navigate(["/home-page"])},this.filterKeys=l=>!!l.key&&"0123456789.-kK".includes(l.key),this.checkRemember=()=>{if(this.storeService.getRemember()){const l=this.storeService.getRememberData();l&&(this.loginForm.patchValue({username:l.username,password:l.password,remember:[!0]}),this.loginForm.updateValueAndValidity())}},this.login=l=>(this.loaderService.startLoader("Iniciando sesion..."),new Promise(n=>{this.authService.login(l).subscribe(l=>{this.loaderService.stopLoader(),n(l)},u=>{this.loaderService.stopLoader(),"ConnectionsNotFound"===u.error.name?n({code:1,token:u.error.data.token,user:l,message:u.error.message}):(this.httpService.errorHandler(u),n(null))})}))}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",[r.m.required]],password:["",r.m.required],remember:[!1]}),this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.router.events.subscribe(l=>{l instanceof a.d&&this.checkRemember()}),this.checkRemember()}}class h{}var p=u("FhNQ"),C=u("pMnS"),v=u("oBZk"),f=u("ZZ/e"),L=u("SVse"),N=e.Ab({encapsulation:0,styles:[[".recordarme[_ngcontent-%COMP%]{position:absolute;padding:11px 5px}.recordarme[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px;position:relative;top:-5px}.bottom[_ngcontent-%COMP%]{position:absolute;width:90%;bottom:0}"]],data:{}});function B(l){return e.Xb(0,[(l()(),e.Cb(0,0,null,null,1,"div",[["style","color: red"]],null,null,null,null,null)),(l()(),e.Vb(-1,null,[" El Usuario o correo es requerido. "]))],null,null)}function S(l){return e.Xb(0,[(l()(),e.Cb(0,0,null,null,23,null,null,null,null,null,null,null)),(l()(),e.Cb(1,0,null,null,22,"ion-row",[],null,null,null,v.Eb,v.J)),e.Bb(2,49152,null,0,f.kb,[e.j,e.p,e.F],null,null),(l()(),e.Cb(3,0,null,0,13,"ion-col",[],null,null,null,v.hb,v.m)),e.Bb(4,49152,null,0,f.u,[e.j,e.p,e.F],null,null),(l()(),e.Cb(5,0,null,0,11,"ion-item",[["lines","none"]],null,null,null,v.ub,v.w)),e.Bb(6,49152,null,0,f.I,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Cb(7,0,null,0,6,"ion-checkbox",[["formControlName","remember"],["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0;return"ionBlur"===n&&(i=!1!==e.Nb(l,8)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Nb(l,8)._handleIonChange(u.target)&&i),i}),v.gb,v.l)),e.Bb(8,16384,null,0,f.d,[e.p],null,null),e.Sb(1024,null,r.h,(function(l){return[l]}),[f.d]),e.Bb(10,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.p]],{name:[0,"name"]},null),e.Sb(2048,null,r.i,null,[r.d]),e.Bb(12,16384,null,0,r.j,[[4,r.i]],null,null),e.Bb(13,49152,null,0,f.s,[e.j,e.p,e.F],{checked:[0,"checked"]},null),(l()(),e.Cb(14,0,null,0,2,"ion-label",[],null,null,null,v.vb,v.A)),e.Bb(15,49152,null,0,f.O,[e.j,e.p,e.F],null,null),(l()(),e.Vb(-1,0,["Recordarme"])),(l()(),e.Cb(17,0,null,0,6,"ion-col",[],null,null,null,v.hb,v.m)),e.Bb(18,49152,null,0,f.u,[e.j,e.p,e.F],null,null),(l()(),e.Cb(19,0,null,0,4,"ion-item",[["lines","none"]],null,null,null,v.ub,v.w)),e.Bb(20,49152,null,0,f.I,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(l()(),e.Cb(21,0,null,0,2,"ion-label",[["class","ion-text-center"],["color","danger"]],null,null,null,v.vb,v.A)),e.Bb(22,49152,null,0,f.O,[e.j,e.p,e.F],{color:[0,"color"]},null),(l()(),e.Vb(-1,0,["Olvide mi contrase\xf1a"]))],(function(l,n){var u=n.component;l(n,6,0,"none"),l(n,10,0,"remember"),l(n,13,0,u.loginForm.get("remember").value),l(n,20,0,"none"),l(n,22,0,"danger")}),(function(l,n){l(n,7,0,e.Nb(n,12).ngClassUntouched,e.Nb(n,12).ngClassTouched,e.Nb(n,12).ngClassPristine,e.Nb(n,12).ngClassDirty,e.Nb(n,12).ngClassValid,e.Nb(n,12).ngClassInvalid,e.Nb(n,12).ngClassPending)}))}function F(l){return e.Xb(0,[(l()(),e.Cb(0,0,null,null,16,null,null,null,null,null,null,null)),(l()(),e.Cb(1,0,null,null,9,"div",[["class","ion-text-left recordarme"]],null,null,null,null,null)),(l()(),e.Cb(2,0,null,null,6,"ion-checkbox",[["color","primary"],["formControlName","remember"],["id","remember"],["name","remember"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0;return"ionBlur"===n&&(i=!1!==e.Nb(l,3)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Nb(l,3)._handleIonChange(u.target)&&i),i}),v.gb,v.l)),e.Bb(3,16384,null,0,f.d,[e.p],null,null),e.Sb(1024,null,r.h,(function(l){return[l]}),[f.d]),e.Bb(5,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.p]],{name:[0,"name"]},null),e.Sb(2048,null,r.i,null,[r.d]),e.Bb(7,16384,null,0,r.j,[[4,r.i]],null,null),e.Bb(8,49152,null,0,f.s,[e.j,e.p,e.F],{checked:[0,"checked"],color:[1,"color"],name:[2,"name"]},null),(l()(),e.Cb(9,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Vb(-1,null,["Recordarme"])),(l()(),e.Cb(11,0,null,null,5,"div",[["class","ion-text-right"]],null,null,null,null,null)),(l()(),e.Cb(12,0,null,null,4,"ion-button",[["color","danger"],["fill","clear"],["routerDirection","forward"],["routerLink","/auth/password-recovery"]],null,[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==e.Nb(l,14).onClick()&&i),"click"===n&&(i=!1!==e.Nb(l,15).onClick(u)&&i),i}),v.Z,v.e)),e.Bb(13,49152,null,0,f.l,[e.j,e.p,e.F],{color:[0,"color"],fill:[1,"fill"],routerDirection:[2,"routerDirection"]},null),e.Bb(14,16384,null,0,a.o,[a.n,a.a,[8,null],e.L,e.p],{routerLink:[0,"routerLink"]},null),e.Bb(15,737280,null,0,f.Ob,[L.i,f.Jb,e.p,a.n,[2,a.o]],{routerDirection:[0,"routerDirection"]},null),(l()(),e.Vb(-1,0,["Olvide mi contrase\xf1a "]))],(function(l,n){l(n,5,0,"remember"),l(n,8,0,!1,"primary","remember"),l(n,13,0,"danger","clear","forward"),l(n,14,0,"/auth/password-recovery"),l(n,15,0,"forward")}),(function(l,n){l(n,2,0,e.Nb(n,7).ngClassUntouched,e.Nb(n,7).ngClassTouched,e.Nb(n,7).ngClassPristine,e.Nb(n,7).ngClassDirty,e.Nb(n,7).ngClassValid,e.Nb(n,7).ngClassInvalid,e.Nb(n,7).ngClassPending)}))}function k(l){return e.Xb(0,[(l()(),e.Cb(0,0,null,null,42,"ion-content",[],null,null,null,v.ib,v.n)),e.Bb(1,49152,null,0,f.v,[e.j,e.p,e.F],null,null),(l()(),e.Cb(2,0,null,0,40,"div",[["class","pd-default"]],null,null,null,null,null)),(l()(),e.Cb(3,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var i=!0,r=l.component;return"submit"===n&&(i=!1!==e.Nb(l,5).onSubmit(u)&&i),"reset"===n&&(i=!1!==e.Nb(l,5).onReset()&&i),"ngSubmit"===n&&(i=!1!==r.onSubmit()&&i),i}),null,null)),e.Bb(4,16384,null,0,r.q,[],null,null),e.Bb(5,540672,null,0,r.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Sb(2048,null,r.a,null,[r.e]),e.Bb(7,16384,null,0,r.k,[[4,r.a]],null,null),(l()(),e.Cb(8,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Cb(9,0,null,null,13,"ion-item",[],null,null,null,v.ub,v.w)),e.Bb(10,49152,null,0,f.I,[e.j,e.p,e.F],null,null),(l()(),e.Cb(11,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,v.vb,v.A)),e.Bb(12,49152,null,0,f.O,[e.j,e.p,e.F],{position:[0,"position"]},null),(l()(),e.Vb(-1,0,["Usuario o correo"])),(l()(),e.Cb(14,0,null,0,6,"ion-input",[["formControlName","username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0;return"ionBlur"===n&&(i=!1!==e.Nb(l,15)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Nb(l,15)._handleInputEvent(u.target)&&i),i}),v.qb,v.v)),e.Bb(15,16384,null,0,f.Qb,[e.p],null,null),e.Sb(1024,null,r.h,(function(l){return[l]}),[f.Qb]),e.Bb(17,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.p]],{name:[0,"name"]},null),e.Sb(2048,null,r.i,null,[r.d]),e.Bb(19,16384,null,0,r.j,[[4,r.i]],null,null),e.Bb(20,49152,null,0,f.H,[e.j,e.p,e.F],{type:[0,"type"]},null),(l()(),e.rb(16777216,null,0,1,null,B)),e.Bb(22,16384,null,0,L.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null),(l()(),e.Cb(23,0,null,null,11,"ion-item",[],null,null,null,v.ub,v.w)),e.Bb(24,49152,null,0,f.I,[e.j,e.p,e.F],null,null),(l()(),e.Cb(25,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,v.vb,v.A)),e.Bb(26,49152,null,0,f.O,[e.j,e.p,e.F],{position:[0,"position"]},null),(l()(),e.Vb(-1,0,["Contrase\xf1a"])),(l()(),e.Cb(28,0,null,0,6,"ion-input",[["formControlName","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0;return"ionBlur"===n&&(i=!1!==e.Nb(l,29)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Nb(l,29)._handleInputEvent(u.target)&&i),i}),v.qb,v.v)),e.Bb(29,16384,null,0,f.Qb,[e.p],null,null),e.Sb(1024,null,r.h,(function(l){return[l]}),[f.Qb]),e.Bb(31,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.h],[2,r.p]],{name:[0,"name"]},null),e.Sb(2048,null,r.i,null,[r.d]),e.Bb(33,16384,null,0,r.j,[[4,r.i]],null,null),e.Bb(34,49152,null,0,f.H,[e.j,e.p,e.F],{type:[0,"type"]},null),(l()(),e.Cb(35,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Cb(36,0,null,null,2,"ion-button",[["color","danger"],["expand","block"],["type","submit"]],null,null,null,v.Z,v.e)),e.Bb(37,49152,null,0,f.l,[e.j,e.p,e.F],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],type:[3,"type"]},null),(l()(),e.Vb(-1,0,[" Iniciar Sesi\xf3n "])),(l()(),e.rb(16777216,null,null,1,null,S)),e.Bb(40,16384,null,0,L.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(16777216,null,null,1,null,F)),e.Bb(42,16384,null,0,L.l,[e.X,e.T],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.loginForm),l(n,12,0,"floating"),l(n,17,0,"username"),l(n,20,0,"text"),l(n,22,0,u.loginForm.controls.username.dirty&&u.loginForm.hasError("required","username")),l(n,26,0,"floating"),l(n,31,0,"password"),l(n,34,0,"password"),l(n,37,0,"danger",u.loginForm.invalid,"block","submit"),l(n,40,0,u.innerWidth<575),l(n,42,0,u.innerWidth>575)}),(function(l,n){l(n,3,0,e.Nb(n,7).ngClassUntouched,e.Nb(n,7).ngClassTouched,e.Nb(n,7).ngClassPristine,e.Nb(n,7).ngClassDirty,e.Nb(n,7).ngClassValid,e.Nb(n,7).ngClassInvalid,e.Nb(n,7).ngClassPending),l(n,14,0,e.Nb(n,19).ngClassUntouched,e.Nb(n,19).ngClassTouched,e.Nb(n,19).ngClassPristine,e.Nb(n,19).ngClassDirty,e.Nb(n,19).ngClassValid,e.Nb(n,19).ngClassInvalid,e.Nb(n,19).ngClassPending),l(n,28,0,e.Nb(n,33).ngClassUntouched,e.Nb(n,33).ngClassTouched,e.Nb(n,33).ngClassPristine,e.Nb(n,33).ngClassDirty,e.Nb(n,33).ngClassValid,e.Nb(n,33).ngClassInvalid,e.Nb(n,33).ngClassPending)}))}function y(l){return e.Xb(0,[(l()(),e.Cb(0,0,null,null,1,"app-login",[],null,null,null,k,N)),e.Bb(1,114688,null,0,m,[r.c,t.a,o.a,a.n,s.a,c.a,b.a,d.a,g.a],null,null)],(function(l,n){l(n,1,0)}),null)}var w=e.yb("app-login",m,y,{},{},[]),I=u("IheW"),j=u("1dSU"),P=u("xgBC"),V=u("QURO"),x=u("ElRG"),R=u("v2G1"),O=u("t8sF"),D=u("s3Gz"),T=u("ZWll"),_=u("Pn9U"),E=u("wMzM"),U=u("AjED"),X=u("Q1xG"),M=u("PCNd");u.d(n,"LoginPageModuleNgFactory",(function(){return q}));var q=e.zb(h,[],(function(l){return e.Kb([e.Lb(512,e.m,e.kb,[[8,[p.a,C.a,w]],[3,e.m],e.D]),e.Lb(4608,L.n,L.m,[e.z,[2,L.y]]),e.Lb(4608,r.o,r.o,[]),e.Lb(4608,f.c,f.c,[e.F,e.g]),e.Lb(4608,f.Ib,f.Ib,[f.c,e.m,e.w]),e.Lb(4608,f.Mb,f.Mb,[f.c,e.m,e.w]),e.Lb(4608,I.j,I.p,[L.c,e.I,I.n]),e.Lb(4608,I.q,I.q,[I.j,I.o]),e.Lb(5120,I.a,(function(l){return[l]}),[I.q]),e.Lb(4608,I.m,I.m,[]),e.Lb(6144,I.k,null,[I.m]),e.Lb(4608,I.i,I.i,[I.k]),e.Lb(6144,I.b,null,[I.i]),e.Lb(4608,I.g,I.l,[I.b,e.w]),e.Lb(4608,I.c,I.c,[I.g]),e.Lb(4608,r.c,r.c,[]),e.Lb(4608,s.a,s.a,[f.Rb]),e.Lb(4608,d.a,d.a,[a.n,g.a,s.a]),e.Lb(4608,j.a,j.a,[P.b]),e.Lb(4608,b.a,b.a,[I.c,d.a,j.a]),e.Lb(4608,V.a,V.a,[x.a,f.Lb]),e.Lb(4608,R.a,R.a,[f.b]),e.Lb(4608,O.a,O.a,[]),e.Lb(4608,D.a,D.a,[]),e.Lb(4608,T.a,T.a,[_.a,s.a,t.a]),e.Lb(4608,c.a,c.a,[o.a,I.c,j.a,d.a]),e.Lb(4608,E.a,E.a,[]),e.Lb(4608,U.a,U.a,[d.a,I.c]),e.Lb(1073742336,L.b,L.b,[]),e.Lb(1073742336,r.n,r.n,[]),e.Lb(1073742336,r.g,r.g,[]),e.Lb(1073742336,f.Fb,f.Fb,[]),e.Lb(1073742336,I.e,I.e,[]),e.Lb(1073742336,I.d,I.d,[]),e.Lb(1073742336,r.l,r.l,[]),e.Lb(1073742336,X.a,X.a,[]),e.Lb(1073742336,M.a,M.a,[]),e.Lb(1073742336,a.p,a.p,[[2,a.u],[2,a.n]]),e.Lb(1073742336,h,h,[]),e.Lb(256,I.n,"XSRF-TOKEN",[]),e.Lb(256,I.o,"X-XSRF-TOKEN",[]),e.Lb(1024,a.l,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);