{"version":3,"sources":["./src/app/modules/crm/tickets/active/active.page.html","./src/app/modules/crm/tickets/active/active-routing.module.ts","./src/app/modules/crm/tickets/active/active.module.ts","./src/app/modules/crm/tickets/active/active.page.scss","./src/app/modules/crm/tickets/active/active.page.ts"],"names":[],"mappings":"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","file":"active-active-module-es2015.js","sourcesContent":["export default \"<ion-searchbar placeholder=\\\"Buscar...\\\" (ionChange)=\\\"searchTickets($event.target.value)\\\" (ionClear)=\\\"cancelSearch()\\\" animated class=\\\"production\\\" showCancelButton=\\\"never\\\"></ion-searchbar>\\n\\n<ion-content>\\n\\n  <ion-refresher (ionRefresh)=\\\"reSync($event)\\\" class=\\\"refresher\\\" slot=\\\"fixed\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"arrow-dropdown\\\"\\n      pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\"\\n      refreshingText=\\\"Sincronizando...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ng-container *ngIf=\\\"filteredTickets.length > 0\\\">\\n    <ion-virtual-scroll [items]=\\\"filteredTickets\\\">\\n      <app-ticket-card\\n        *virtualItem=\\\"let ticket\\\"\\n        [ticket]=\\\"ticket\\\"\\n        (ticketSelected)=\\\"ticketSelected($event)\\\"\\n        (deleteTicketEvent)=\\\"deleteTicket($event)\\\">\\n      </app-ticket-card>\\n    </ion-virtual-scroll>\\n  </ng-container>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ActivePage } from './active.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ActivePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ActivePageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {ActivePageRoutingModule} from './active-routing.module';\nimport {ActivePage} from './active.page';\nimport {SharedModule} from '../../../../shared/shared.module';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    ActivePageRoutingModule\n  ],\n  declarations: [ActivePage]\n})\nexport class ActiveModule {\n\n}\n","export default \"ion-content {\\n  --background: var(--color-background-tabs);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sdWlzY29udHJlcmFzL1ByaW1ldGVjL2Z4MTEvZngxMV9tb2JpbGUvc3JjL2FwcC9tb2R1bGVzL2NybS90aWNrZXRzL2FjdGl2ZS9hY3RpdmUucGFnZS5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL2NybS90aWNrZXRzL2FjdGl2ZS9hY3RpdmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsMENBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY3JtL3RpY2tldHMvYWN0aXZlL2FjdGl2ZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLXRhYnMpO1xufVxuIiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWJhY2tncm91bmQtdGFicyk7XG59Il19 */\"","import {Component, OnInit} from '@angular/core';\nimport {TicketsService} from '../../services/tickets/tickets.service';\nimport {StoreService} from '../../../../shared/services/store/store.service';\nimport {HttpService} from '../../../../shared/services/http/http.service';\nimport {LoaderService} from '../../../../shared/services/loader/loader.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-all',\n  templateUrl: './active.page.html',\n  styleUrls: ['./active.page.scss'],\n})\nexport class ActivePage implements OnInit {\n\n  private allTickets: Array<any> = [];\n  public filteredTickets: Array<any> = [];\n\n  constructor(\n    private ticketsService: TicketsService,\n    private storeService: StoreService,\n    private httpService: HttpService,\n    private loaderService: LoaderService,\n    private router: Router\n  ) {\n\n  }\n\n  ngOnInit() {\n\n  }\n\n  ionViewDidEnter() {\n    this.loadTickets();\n  }\n\n  /**\n   * loadTickets\n   */\n  private loadTickets = () => {\n    this.loaderService.startLoader('Cargando tickets');\n    const user = this.storeService.getActiveCompany();\n\n    const data = {\n      filter: 'activos',\n      user: user.user,\n      init: 0,\n      registers: 0,\n      order: 0,\n      search: ''\n    };\n\n    this.ticketsService.getTickets(data).subscribe((success: any) => {\n      this.allTickets = success.data.listTickets;\n      this.filteredTickets = success.data.listTickets;\n      this.loaderService.stopLoader();\n    }, error => {\n      this.loaderService.stopLoader();\n      this.httpService.errorHandler(error);\n    });\n  }\n\n  /**\n   * searchTickets\n   * @param search\n   */\n  public searchTickets = (search: string) => {\n    if (search) {\n      this.filteredTickets = this.allTickets.filter(item => {\n        return (\n          item.id.toString().includes(search.toLowerCase()) ||\n          item.client.toLowerCase().includes(search.toLowerCase()) ||\n          item.maxResolution.toLowerCase().includes(search.toLowerCase()) ||\n          item.state.toLowerCase().includes(search.toLowerCase()) ||\n          item.createdAt.toLowerCase().includes(search.toLowerCase())\n        );\n      });\n    } else {\n      this.filteredTickets = this.allTickets;\n    }\n  }\n\n  /**\n   * cancelSearch\n   */\n  public cancelSearch = () => {\n    this.filteredTickets = this.allTickets;\n  }\n\n  /**\n   * ticketSelected\n   * @param ticket\n   */\n  public ticketSelected = (ticket: any) => {\n    this.router.navigate(['/home-page/ticket-details-list', ticket.id]);\n  }\n\n  /**\n   * reSync\n   * @param event\n   */\n  public reSync = (event: any) => {\n    this.allTickets = [];\n    this.filteredTickets = [];\n    this.loadTickets();\n    event.target.complete();\n  }\n\n  /**\n   * deleteTicket\n   * @param ticket\n   */\n  deleteTicket(ticket: any) {\n    console.log('deleteTicket', ticket);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}