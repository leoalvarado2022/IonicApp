{"version":3,"sources":["src/app/modules/crm/tickets/active/active.page.html","src/app/modules/crm/tickets/active/active-routing.module.ts","src/app/modules/crm/tickets/active/active.module.ts","src/app/modules/crm/tickets/active/active.page.scss","src/app/modules/crm/tickets/active/active.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,26BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,QAAM,MAAM,GAAW,CACrB;AACE,MAAA,IAAI,EAAE,EADR;AAEE,MAAA,SAAS,EAAE,yCAAA,CAAA,YAAA;AAFb,KADqB,CAAvB;;AAWA,QAAa,uBAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,uBAAuB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAJnC,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CAAC,4CAAA,CAAA,cAAA,CAAA,CAAa,QAAb,CAAsB,MAAtB,CAAD,CADD;AAER,MAAA,OAAO,EAAE,CAAC,4CAAA,CAAA,cAAA,CAAD;AAFD,KAAT,CAImC,CAAA,EAAvB,uBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJb,QAAa,YAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,YAAY,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAPxB,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CACP,kDAAA,CAAA,cAAA,CADO,EAEP,mDAAA,CAAA,yBAAA,CAFO,CADD;AAKR,MAAA,YAAY,EAAE,CAAC,yCAAA,CAAA,YAAA,CAAD;AALN,KAAT,CAOwB,CAAA,EAAZ,YAAY,CAAZ;;;;;;;;;;;;;;;;ACZb,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,gsBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACYf,QAAa,UAAb;AAAA;AAAA;AAKE,0BACU,cADV,EAEU,YAFV,EAGU,WAHV,EAIU,aAJV,EAKU,MALV,EAKwB;AAAA;;AAAA;;AAJd,aAAA,cAAA,GAAA,cAAA;AACA,aAAA,YAAA,GAAA,YAAA;AACA,aAAA,WAAA,GAAA,WAAA;AACA,aAAA,aAAA,GAAA,aAAA;AACA,aAAA,MAAA,GAAA,MAAA;AARF,aAAA,UAAA,GAAyB,EAAzB;AACD,aAAA,eAAA,GAA8B,EAA9B;AAoBP;;;;AAGQ,aAAA,WAAA,GAAc,YAAK;AACzB,UAAA,KAAI,CAAC,aAAL,CAAmB,WAAnB,CAA+B,kBAA/B;;AACA,cAAM,IAAI,GAAG,KAAI,CAAC,YAAL,CAAkB,gBAAlB,EAAb;;AAEA,cAAM,IAAI,GAAG;AACX,YAAA,MAAM,EAAE,SADG;AAEX,YAAA,IAAI,EAAE,IAAI,CAAC,IAFA;AAGX,YAAA,IAAI,EAAE,CAHK;AAIX,YAAA,SAAS,EAAE,CAJA;AAKX,YAAA,KAAK,EAAE,CALI;AAMX,YAAA,MAAM,EAAE;AANG,WAAb;;AASA,UAAA,KAAI,CAAC,cAAL,CAAoB,UAApB,CAA+B,IAA/B,EAAqC,SAArC,CAA+C,UAAC,OAAD,EAAiB;AAC9D,YAAA,KAAI,CAAC,UAAL,GAAkB,OAAO,CAAC,IAAR,CAAa,WAA/B;AACA,YAAA,KAAI,CAAC,eAAL,GAAuB,OAAO,CAAC,IAAR,CAAa,WAApC;;AACA,YAAA,KAAI,CAAC,aAAL,CAAmB,UAAnB;AACD,WAJD,EAIG,UAAA,KAAK,EAAG;AACT,YAAA,KAAI,CAAC,aAAL,CAAmB,UAAnB;;AACA,YAAA,KAAI,CAAC,WAAL,CAAiB,YAAjB,CAA8B,KAA9B;AACD,WAPD;AAQD,SArBO;AAuBR;;;;;;AAIO,aAAA,aAAA,GAAgB,UAAC,MAAD,EAAmB;AACxC,cAAI,MAAJ,EAAY;AACV,YAAA,KAAI,CAAC,eAAL,GAAuB,KAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB,UAAA,IAAI,EAAG;AACnD,qBACE,IAAI,CAAC,EAAL,CAAQ,QAAR,GAAmB,QAAnB,CAA4B,MAAM,CAAC,WAAP,EAA5B,KACA,IAAI,CAAC,MAAL,CAAY,WAAZ,GAA0B,QAA1B,CAAmC,MAAM,CAAC,WAAP,EAAnC,CADA,IAEA,IAAI,CAAC,aAAL,CAAmB,WAAnB,GAAiC,QAAjC,CAA0C,MAAM,CAAC,WAAP,EAA1C,CAFA,IAGA,IAAI,CAAC,KAAL,CAAW,WAAX,GAAyB,QAAzB,CAAkC,MAAM,CAAC,WAAP,EAAlC,CAHA,IAIA,IAAI,CAAC,SAAL,CAAe,WAAf,GAA6B,QAA7B,CAAsC,MAAM,CAAC,WAAP,EAAtC,CALF;AAOD,aARsB,CAAvB;AASD,WAVD,MAUO;AACL,YAAA,KAAI,CAAC,eAAL,GAAuB,KAAI,CAAC,UAA5B;AACD;AACF,SAdM;AAgBP;;;;;AAGO,aAAA,YAAA,GAAe,YAAK;AACzB,UAAA,KAAI,CAAC,eAAL,GAAuB,KAAI,CAAC,UAA5B;AACD,SAFM;AAIP;;;;;;AAIO,aAAA,cAAA,GAAiB,UAAC,MAAD,EAAgB;AACtC,UAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,CAAC,gCAAD,EAAmC,MAAM,CAAC,EAA1C,CAArB;AACD,SAFM;AAIP;;;;;;AAIO,aAAA,MAAA,GAAS,UAAC,KAAD,EAAe;AAC7B,UAAA,KAAI,CAAC,UAAL,GAAkB,EAAlB;AACA,UAAA,KAAI,CAAC,eAAL,GAAuB,EAAvB;;AACA,UAAA,KAAI,CAAC,WAAL;;AACA,UAAA,KAAK,CAAC,MAAN,CAAa,QAAb;AACD,SALM;AA3EN;;AAbH;AAAA;AAAA,mCAeU,CAEP;AAjBH;AAAA;AAAA,0CAmBiB;AACb,eAAK,WAAL;AACD;AA0ED;;;;;AA/FF;AAAA;AAAA,qCAmGe,MAnGf,EAmG0B;AACtB,UAAA,OAAO,CAAC,GAAR,CAAY,cAAZ,EAA4B,MAA5B;AACD;AArGH;;AAAA;AAAA,OAAA;;;;cAM4B,8DAAA,CAAA,gBAAA;;cACF,iEAAA,CAAA,cAAA;;cACD,+DAAA,CAAA,aAAA;;cACE,mEAAA,CAAA,eAAA;;cACP,4CAAA,CAAA,QAAA;;;;AAVP,IAAA,UAAU,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CALtB,MAAA,CAAA,0CAAA,CAAA,WAAA,CAAA,CAAA,CAAU;AACT,MAAA,QAAQ,EAAE,SADD;AAET,MAAA,QAAA,EAAA,kCAAA,CAAA,iBAAA,CAAA,CAAA,mBAAA;AAAA;AAAA,mGAAA,CAAA,EAAA,OAFS;;;;AAAA,KAAV,CAKsB,E,uEAMK,8DAAA,CAAA,gBAAA,C,EACF,iEAAA,CAAA,cAAA,C,EACD,+DAAA,CAAA,aAAA,C,EACE,mEAAA,CAAA,eAAA,C,EACP,4CAAA,CAAA,QAAA,C,EAVG,CAAA,EAAV,UAAU,CAAV","sourcesContent":["export default \"<ion-searchbar placeholder=\\\"Buscar...\\\" (ionChange)=\\\"searchTickets($event.target.value)\\\" (ionClear)=\\\"cancelSearch()\\\" animated class=\\\"production\\\" showCancelButton=\\\"never\\\"></ion-searchbar>\\n\\n<ion-content>\\n\\n  <ion-refresher (ionRefresh)=\\\"reSync($event)\\\" class=\\\"refresher\\\" slot=\\\"fixed\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"arrow-dropdown\\\"\\n      pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\"\\n      refreshingText=\\\"Sincronizando...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ng-container *ngIf=\\\"filteredTickets.length > 0\\\">\\n    <ion-virtual-scroll [items]=\\\"filteredTickets\\\">\\n      <app-ticket-card\\n        *virtualItem=\\\"let ticket\\\"\\n        [ticket]=\\\"ticket\\\"\\n        (ticketSelected)=\\\"ticketSelected($event)\\\"\\n        (deleteTicketEvent)=\\\"deleteTicket($event)\\\">\\n      </app-ticket-card>\\n    </ion-virtual-scroll>\\n  </ng-container>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ActivePage } from './active.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ActivePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ActivePageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {ActivePageRoutingModule} from './active-routing.module';\nimport {ActivePage} from './active.page';\nimport {SharedModule} from '../../../../shared/shared.module';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    ActivePageRoutingModule\n  ],\n  declarations: [ActivePage]\n})\nexport class ActiveModule {\n\n}\n","export default \"ion-content {\\n  --background: var(--color-background-tabs);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sdWlzY29udHJlcmFzL1ByaW1ldGVjL2Z4MTEvZngxMV9tb2JpbGUvc3JjL2FwcC9tb2R1bGVzL2NybS90aWNrZXRzL2FjdGl2ZS9hY3RpdmUucGFnZS5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL2NybS90aWNrZXRzL2FjdGl2ZS9hY3RpdmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsMENBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY3JtL3RpY2tldHMvYWN0aXZlL2FjdGl2ZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLXRhYnMpO1xufVxuIiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWJhY2tncm91bmQtdGFicyk7XG59Il19 */\"","import {Component, OnInit} from '@angular/core';\nimport {TicketsService} from '../../services/tickets/tickets.service';\nimport {StoreService} from '../../../../shared/services/store/store.service';\nimport {HttpService} from '../../../../shared/services/http/http.service';\nimport {LoaderService} from '../../../../shared/services/loader/loader.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-all',\n  templateUrl: './active.page.html',\n  styleUrls: ['./active.page.scss'],\n})\nexport class ActivePage implements OnInit {\n\n  private allTickets: Array<any> = [];\n  public filteredTickets: Array<any> = [];\n\n  constructor(\n    private ticketsService: TicketsService,\n    private storeService: StoreService,\n    private httpService: HttpService,\n    private loaderService: LoaderService,\n    private router: Router\n  ) {\n\n  }\n\n  ngOnInit() {\n\n  }\n\n  ionViewDidEnter() {\n    this.loadTickets();\n  }\n\n  /**\n   * loadTickets\n   */\n  private loadTickets = () => {\n    this.loaderService.startLoader('Cargando tickets');\n    const user = this.storeService.getActiveCompany();\n\n    const data = {\n      filter: 'activos',\n      user: user.user,\n      init: 0,\n      registers: 0,\n      order: 0,\n      search: ''\n    };\n\n    this.ticketsService.getTickets(data).subscribe((success: any) => {\n      this.allTickets = success.data.listTickets;\n      this.filteredTickets = success.data.listTickets;\n      this.loaderService.stopLoader();\n    }, error => {\n      this.loaderService.stopLoader();\n      this.httpService.errorHandler(error);\n    });\n  }\n\n  /**\n   * searchTickets\n   * @param search\n   */\n  public searchTickets = (search: string) => {\n    if (search) {\n      this.filteredTickets = this.allTickets.filter(item => {\n        return (\n          item.id.toString().includes(search.toLowerCase()) ||\n          item.client.toLowerCase().includes(search.toLowerCase()) ||\n          item.maxResolution.toLowerCase().includes(search.toLowerCase()) ||\n          item.state.toLowerCase().includes(search.toLowerCase()) ||\n          item.createdAt.toLowerCase().includes(search.toLowerCase())\n        );\n      });\n    } else {\n      this.filteredTickets = this.allTickets;\n    }\n  }\n\n  /**\n   * cancelSearch\n   */\n  public cancelSearch = () => {\n    this.filteredTickets = this.allTickets;\n  }\n\n  /**\n   * ticketSelected\n   * @param ticket\n   */\n  public ticketSelected = (ticket: any) => {\n    this.router.navigate(['/home-page/ticket-details-list', ticket.id]);\n  }\n\n  /**\n   * reSync\n   * @param event\n   */\n  public reSync = (event: any) => {\n    this.allTickets = [];\n    this.filteredTickets = [];\n    this.loadTickets();\n    event.target.complete();\n  }\n\n  /**\n   * deleteTicket\n   * @param ticket\n   */\n  deleteTicket(ticket: any) {\n    console.log('deleteTicket', ticket);\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"active-active-module-es5.js"}