{"version":3,"sources":["./node_modules/@ionic-native/chooser/ngx/index.js","./src/app/modules/crm/ticket-form/ticket-form.page.html","./src/app/modules/crm/ticket-form/ticket-form.module.ts","./src/app/modules/crm/ticket-form/ticket-form.page.scss","./src/app/modules/crm/ticket-form/ticket-form.page.ts"],"names":[],"mappings":"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","file":"modules-crm-ticket-form-ticket-form-module-es2015.js","sourcesContent":["import { __decorate, __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nvar Chooser = /** @class */ (function (_super) {\n    __extends(Chooser, _super);\n    function Chooser() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Chooser.prototype.getFile = function (accept) { return cordova(this, \"getFile\", {}, arguments); };\n    Chooser.pluginName = \"Chooser\";\n    Chooser.plugin = \"cordova-plugin-chooser\";\n    Chooser.pluginRef = \"chooser\";\n    Chooser.repo = \"https://github.com/cyph/cordova-plugin-chooser\";\n    Chooser.platforms = [\"Android\", \"iOS\"];\n    Chooser = __decorate([\n        Injectable()\n    ], Chooser);\n    return Chooser;\n}(IonicNativePlugin));\nexport { Chooser };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2Nob29zZXIvbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sOEJBQXNDLE1BQU0sb0JBQW9CLENBQUM7O0lBc0QzQywyQkFBaUI7Ozs7SUFRNUMseUJBQU8sYUFBQyxNQUFlOzs7Ozs7SUFSWixPQUFPO1FBRG5CLFVBQVUsRUFBRTtPQUNBLE9BQU87a0JBdkRwQjtFQXVENkIsaUJBQWlCO1NBQWpDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb3Jkb3ZhLCBJb25pY05hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBDaG9vc2VyUmVzdWx0IHtcbiAgZGF0YTogVWludDhBcnJheTtcbiAgZGF0YVVSSTogc3RyaW5nO1xuICBtZWRpYVR5cGU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB1cmk6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAbmFtZSBDaG9vc2VyXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZpbGUgY2hvb3NlciBwbHVnaW4gZm9yIENvcmRvdmEuXG4gKlxuICogVGhlIGZvbGxvd2luZyBtdXN0IGJlIGFkZGVkIHRvIGNvbmZpZy54bWwgdG8gcHJldmVudCBjcmFzaGluZyB3aGVuIHNlbGVjdGluZyBsYXJnZSBmaWxlcyBvbiBBbmRyb2lkOlxuICogYGBgeG1sXG4gKiA8cGxhdGZvcm0gbmFtZT1cImFuZHJvaWRcIj5cbiAqICA8ZWRpdC1jb25maWdcbiAqICAgIGZpbGU9XCJhcHAvc3JjL21haW4vQW5kcm9pZE1hbmlmZXN0LnhtbFwiXG4gKiAgICBtb2RlPVwibWVyZ2VcIlxuICogICAgdGFyZ2V0PVwiL21hbmlmZXN0L2FwcGxpY2F0aW9uXCI+XG4gKiAgICA8YXBwbGljYXRpb24gYW5kcm9pZDpsYXJnZUhlYXA9XCJ0cnVlXCIgLz5cbiAqICA8L2VkaXQtY29uZmlnPlxuICogPC9wbGF0Zm9ybT5cbiAqIGBgYFxuICpcbiAqIEB1c2FnZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgQ2hvb3NlciB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY2hvb3Nlci9uZ3gnO1xuICpcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGNob29zZXI6IENob29zZXIpIHsgfVxuICpcbiAqIC4uLlxuICpcbiAqXG4gKiB0aGlzLmNob29zZXIuZ2V0RmlsZSgpXG4gKiAgIC50aGVuKGZpbGUgPT4gY29uc29sZS5sb2coZmlsZSA/IGZpbGUubmFtZSA6ICdjYW5jZWxlZCcpKVxuICogICAuY2F0Y2goKGVycm9yOiBhbnkpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBAaW50ZXJmYWNlc1xuICogQ2hvb3NlclJlc3VsdFxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0Nob29zZXInLFxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1jaG9vc2VyJyxcbiAgcGx1Z2luUmVmOiAnY2hvb3NlcicsXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vY3lwaC9jb3Jkb3ZhLXBsdWdpbi1jaG9vc2VyJyxcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ11cbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ2hvb3NlciBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIERpc3BsYXlzIG5hdGl2ZSBwcm9tcHQgZm9yIHVzZXIgdG8gc2VsZWN0IGEgZmlsZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFthY2NlcHRdIE9wdGlvbmFsIE1JTUUgdHlwZSBmaWx0ZXIgKGUuZy4gJ2ltYWdlL2dpZix2aWRlby8qJykuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUHJvbWlzZSBjb250YWluaW5nIHNlbGVjdGVkIGZpbGUncyByYXcgYmluYXJ5IGRhdGEsXG4gICAqIGJhc2U2NC1lbmNvZGVkIGRhdGE6IFVSSSwgTUlNRSB0eXBlLCBkaXNwbGF5IG5hbWUsIGFuZCBvcmlnaW5hbCBVUkkuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldEZpbGUoYWNjZXB0Pzogc3RyaW5nKTogUHJvbWlzZTxDaG9vc2VyUmVzdWx0IHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuO1xuICB9XG59XG4iXX0=","export default \"<ion-header>\\n  <ion-toolbar class=\\\"background-color-header\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button class=\\\"header-back-button\\\" text=\\\"\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      <strong>Crear Detalle</strong>\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <app-notifications></app-notifications>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-tabs class=\\\"ticket-detail-tabs\\\">\\n    <!-- Tab bar -->\\n    <ion-tab-bar slot=\\\"top\\\">\\n      <ion-tab-button (click)=\\\"activeTab = 1\\\" [selected]=\\\"activeTab === 1\\\">\\n        <span>Detalle</span>\\n      </ion-tab-button>\\n      <ion-tab-button (click)=\\\"activeTab = 2\\\" [selected]=\\\"activeTab === 2\\\">\\n        <span>Adjuntos</span>\\n      </ion-tab-button>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n\\n  <div class=\\\"detail-content-tab\\\">\\n    <form [formGroup]=\\\"ticketForm\\\">\\n      <ng-container *ngIf=\\\"activeTab === 1\\\">\\n\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Observaciones</ion-label>\\n          <ion-textarea rows=\\\"5\\\" formControlName=\\\"observations\\\"></ion-textarea>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Estado</ion-label>\\n          <ion-select placeholder=\\\"Estado\\\" formControlName=\\\"state\\\">\\n            <ion-select-option *ngFor=\\\"let state of states\\\" [value]=\\\"state.name\\\">{{ state.name | titlecase }}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Asignado</ion-label>\\n          <ion-select placeholder=\\\"Asignado\\\" formControlName=\\\"assigned_id\\\">\\n            <ion-select-option *ngFor=\\\"let user of users\\\" [value]=\\\"user.id\\\">{{ user.name | titlecase }}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Prioridad</ion-label>\\n          <ion-select placeholder=\\\"Prioridad\\\" formControlName=\\\"priority\\\">\\n            <ion-select-option *ngFor=\\\"let priority of priorities\\\" [value]=\\\"priority.name\\\">{{ priority.name | titlecase }}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Dificultad</ion-label>\\n          <ion-select placeholder=\\\"Dificultad\\\" formControlName=\\\"difficulty\\\">\\n            <ion-select-option *ngFor=\\\"let difficulty of difficulties\\\" [value]=\\\"difficulty.level\\\">{{ difficulty.name | titlecase }}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Compromiso Interno</ion-label>\\n          <ion-datetime formControlName=\\\"commitmentAt\\\" [displayFormat]=\\\"dateFormat\\\" [max]=\\\"maxDate\\\" [pickerFormat]=\\\"dateFormat\\\"></ion-datetime>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Compromiso Cliente</ion-label>\\n          <ion-datetime formControlName=\\\"commitmentInternAt\\\" [displayFormat]=\\\"dateFormat\\\" [max]=\\\"maxDate\\\" [pickerFormat]=\\\"dateFormat\\\"></ion-datetime>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Publico</ion-label>\\n          <ion-select placeholder=\\\"Publico\\\" formControlName=\\\"public\\\">\\n            <ion-select-option [value]=\\\"true\\\">Si</ion-select-option>\\n            <ion-select-option [value]=\\\"false\\\">No</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n\\n      </ng-container>\\n\\n      <ng-container *ngIf=\\\"activeTab === 2\\\">\\n        <!-- [disabled]=\\\"ticketForm.invalid\\\" -->\\n        <ion-button expand=\\\"block\\\" color=\\\"warning\\\" (click)=\\\"pickFiles()\\\">\\n          Agregar Archivos\\n        </ion-button>\\n\\n        <!-- List of Sliding Items -->\\n        <ion-list *ngIf=\\\"attachments.length > 0\\\">\\n          <ion-item-sliding *ngFor=\\\"let item of attachments\\\">\\n            <ion-item>\\n              <ion-label>{{ item.name }}</ion-label>\\n            </ion-item>\\n            <ion-item-options side=\\\"end\\\">\\n              <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteFile(item)\\\">Borrar</ion-item-option>\\n            </ion-item-options>\\n          </ion-item-sliding>\\n        </ion-list>\\n      </ng-container>\\n\\n      <ion-button expand=\\\"block\\\" (click)=\\\"submitDetail()\\\" [disabled]=\\\"ticketForm.invalid\\\">\\n        Crear Detalle\\n      </ion-button>\\n    </form>\\n  </div>\\n\\n</ion-content>\\n\"","import {NgModule} from '@angular/core';\nimport {TicketFormPage} from './ticket-form.page';\nimport {SharedModule} from '../../../shared/shared.module';\nimport {RouterModule, Routes} from '@angular/router';\nimport {Chooser} from '@ionic-native/chooser/ngx';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TicketFormPage\n  }\n];\n\n@NgModule({\n  imports: [\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TicketFormPage],\n  providers: [Chooser]\n})\nexport class TicketFormPageModule {\n\n}\n","export default \"ion-menu-button {\\n  --color: white;\\n}\\n\\nion-title {\\n  color: white;\\n}\\n\\nion-tab-button {\\n  font-size: 16px;\\n  color: white;\\n  --color: white;\\n}\\n\\n.tab-selected {\\n  border-bottom: 1px solid white !important;\\n}\\n\\nion-tab-bar {\\n  height: 45px;\\n  --background: var(--color-home-header-menu);\\n  --color: white;\\n}\\n\\n.ticket-detail-tabs {\\n  height: 50px;\\n}\\n\\n.detail-content-tab {\\n  margin-top: 50px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sdWlzY29udHJlcmFzL1ByaW1ldGVjL2Z4MTEvZngxMV9tb2JpbGUvc3JjL2FwcC9tb2R1bGVzL2NybS90aWNrZXQtZm9ybS90aWNrZXQtZm9ybS5wYWdlLnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvY3JtL3RpY2tldC1mb3JtL3RpY2tldC1mb3JtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ0NGOztBREVBO0VBQ0UseUNBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7RUFFQSwyQ0FBQTtFQUNBLGNBQUE7QUNBRjs7QURJQTtFQUNFLFlBQUE7QUNERjs7QURJQTtFQUNFLGdCQUFBO0FDREYiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NybS90aWNrZXQtZm9ybS90aWNrZXQtZm9ybS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tbWVudS1idXR0b24ge1xuICAtLWNvbG9yOiB3aGl0ZTtcbn1cblxuaW9uLXRpdGxlIHtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG5pb24tdGFiLWJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6IHdoaXRlO1xuICAtLWNvbG9yOiB3aGl0ZTtcbn1cblxuLnRhYi1zZWxlY3RlZCB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG5pb24tdGFiLWJhciB7XG4gIGhlaWdodDogNDVweDtcbiAgLy9oZWlnaHQ6IDEwMHB4O1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWhvbWUtaGVhZGVyLW1lbnUpO1xuICAtLWNvbG9yOiB3aGl0ZTtcbiAgLy8gbWFyZ2luLWJvdHRvbTogNThweDtcbn1cblxuLnRpY2tldC1kZXRhaWwtdGFicyB7XG4gIGhlaWdodDogNTBweDtcbn1cblxuLmRldGFpbC1jb250ZW50LXRhYiB7XG4gIG1hcmdpbi10b3A6IDUwcHg7XG59XG4iLCJpb24tbWVudS1idXR0b24ge1xuICAtLWNvbG9yOiB3aGl0ZTtcbn1cblxuaW9uLXRpdGxlIHtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG5pb24tdGFiLWJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6IHdoaXRlO1xuICAtLWNvbG9yOiB3aGl0ZTtcbn1cblxuLnRhYi1zZWxlY3RlZCB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG5pb24tdGFiLWJhciB7XG4gIGhlaWdodDogNDVweDtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1ob21lLWhlYWRlci1tZW51KTtcbiAgLS1jb2xvcjogd2hpdGU7XG59XG5cbi50aWNrZXQtZGV0YWlsLXRhYnMge1xuICBoZWlnaHQ6IDUwcHg7XG59XG5cbi5kZXRhaWwtY29udGVudC10YWIge1xuICBtYXJnaW4tdG9wOiA1MHB4O1xufSJdfQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {StoreService} from '../../../shared/services/store/store.service';\nimport {Chooser} from '@ionic-native/chooser/ngx';\nimport {ToastService} from '../../../shared/services/toast/toast.service';\nimport {LoaderService} from '../../../shared/services/loader/loader.service';\nimport {TicketsService} from '../services/tickets/tickets.service';\nimport {HttpService} from '../../../shared/services/http/http.service';\nimport {Router} from '@angular/router';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-ticket-form',\n  templateUrl: './ticket-form.page.html',\n  styleUrls: ['./ticket-form.page.scss'],\n})\nexport class TicketFormPage implements OnInit {\n\n  public activeTab = 1;\n\n  public ticketForm: FormGroup;\n  private activeTicket: any = null;\n  public readonly dateFormat = 'DD/MM/YYYY';\n  public readonly maxDate = '2030';\n  public states: Array<any> = [];\n  public users: Array<any> = [];\n  public priorities: Array<any> = [];\n  public difficulties: Array<any> = [\n    {level: 1, name: '1'},\n    {level: 2, name: '2'},\n    {level: 3, name: '3'}\n  ];\n\n  public attachments: Array<any> = [];\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private storeService: StoreService,\n    private chooser: Chooser,\n    private toastService: ToastService,\n    private loaderService: LoaderService,\n    private ticketsService: TicketsService,\n    private httpService: HttpService,\n    private router: Router\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.activeTicket = this.storeService.getActiveTicket();\n    this.states = this.storeService.getTicketStates();\n    this.users = this.storeService.getTicketUsers();\n    this.priorities = this.storeService.getTicketPriorities();\n\n    const activeCompany = this.storeService.getActiveCompany();\n    const details = this.storeService.getTicketDetails();\n    const lastDetail = details.find(item => item.id === this.activeTicket.tickets_det);\n\n    /**\n     * id: 37\n     state: \"Abierto\"\n     ticket: 39\n     created_id: 2\n     assigned_id: 2\n     creatorName: \"Contreras Montiel Luis\"\n     assignedName: \"Contreras Montiel Luis\"\n     observations: \"\"\n     difficulty: 1\n     priority: \"Normal\"\n     public: false\n     createdAt: \"12/02/2020 00:00:00\"\n     commitmentAt: \"01/01/1900\"\n     commitmentInternAt: \"01/01/1900\"\n     */\n\n    this.ticketForm = this.formBuilder.group({\n      id: [0, Validators.required],\n      ticket: [this.activeTicket.id, Validators.required],\n      state: [lastDetail ? lastDetail.state.toLowerCase() : '', Validators.required],\n      public: [false, Validators.required],\n      created_id: [activeCompany.user, Validators.required],\n      assigned_id: [activeCompany.user, Validators.required],\n      observations: ['', Validators.required],\n      commitmentAt: [lastDetail ? lastDetail.commitmentAt : ''],\n      commitmentInternAt: [lastDetail ? lastDetail.commitmentInternAt : ''],\n      difficulty: [lastDetail ? lastDetail.difficulty : '', Validators.required],\n      priority: [lastDetail ? lastDetail.priority.toLowerCase() : '', Validators.required],\n      assign_client: [0, Validators.required],\n      temporal_id: [0]\n    });\n  }\n\n  /**\n   * pickFiles\n   */\n  public pickFiles = () => {\n    this.chooser.getFile()\n    this.chooser.getFile('image/*,video/*').then((data: any) => {\n      this.attachments.push({\n        id: 0,\n        file: data.dataURI.replace(/^data:.*,/, ''),\n        name: data.name,\n        application: data.mediaType,\n        type: this.getFileExtension(data.name),\n        detail: this.activeTicket.id\n      });\n    }, error => {\n      this.toastService.errorToast('Ocurrio un error');\n    });\n  }\n\n  /**\n   * getFileExtension3\n   * @param filename\n   */\n  private getFileExtension = (filename: string): string => {\n    return filename.slice((filename.lastIndexOf('.') - 1 >>> 0) + 2);\n  }\n\n  /**\n   * submitDetail\n   */\n  public submitDetail = () => {\n    const formData = Object.assign({}, this.ticketForm.value);\n    const userSelected = this.users.find(i => i.id === formData.assigned_id);\n    formData.assign_client = userSelected.clientContact === 0 ? false : true;\n    formData.commitmentAt = formData.commitmentAt ? moment(formData.commitmentAt).format('YYYY-MM-DD') : '';\n    formData.commitmentInternAt = formData.commitmentInternAt ? moment(formData.commitmentInternAt).format('YYYY-MM-DD') : '';\n    this.activeTicket.maxResolution = moment(this.activeTicket.maxResolution).format('YYYY-MM-DD HH:mm:ss');\n    this.activeTicket.createdAt = moment(this.activeTicket.createdAt).format('YYYY-MM-DD HH:mm:ss');\n\n    const data = {\n      ticket: this.activeTicket,\n      detail: formData,\n      attachments: this.attachments,\n      wsAuthID: userSelected.wsAuthID\n    };\n\n    this.storeDetail(data);\n  }\n\n  /**\n   * storeDetail\n   * @param data\n   */\n  private storeDetail = (data: any) => {\n    this.loaderService.startLoader();\n    this.ticketsService.storeTicket(data).subscribe((success: any) => {\n      this.loaderService.stopLoader();\n      this.router.navigate(['home-page/ticket-details-list', this.activeTicket.id]);\n    }, error => {\n      this.loaderService.stopLoader();\n      this.httpService.errorHandler(error);\n    });\n  }\n\n  /**\n   * deleteFile\n   * @param item\n   */\n  public deleteFile = (item: any) => {\n    const findIndex = this.attachments.findIndex(i => i === item);\n\n    if (findIndex > -1) {\n      this.attachments = this.attachments.filter((value, index, array) => findIndex !== index);\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///"}