<ion-searchbar (ionChange)="searchCostCenter($event.target.value)" class="production" showCancelButton="never" animated (ionClear)="cancelSearch()"></ion-searchbar>

<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="reload($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>

  <ng-container *ngFor="let center of filteredCostCenters">
    <ion-card button="true" [routerLink]="['/contract-detail', center.id ]" [routerDirection]="'forward'">
      <ion-card-header>
        <ion-card-subtitle>{{ center.code }}</ion-card-subtitle>
        <ion-card-title>{{ center.name }}</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-row>
          <ion-col size="12">{{ center.producerName }}</ion-col>
          <ion-col size="12">{{ center.speciesName }} / {{ center.varietyName }}</ion-col>
          <ion-col size="12">Fecha Cosecha: {{ center.harvestDate | customDate }}</ion-col>
          <ion-col size="12" *ngIf="center.contractResponsible">{{ center.contractResponsible }}</ion-col>
          <ng-container *ngIf="center.contractDocumentNumber && center.contractsNumber">
            <ion-col size="6"># {{ center.contractDocumentNumber }}</ion-col>
            <ion-col size="6">NÂº Contratos: {{ center.contractsNumber }}</ion-col>
          </ng-container>
        </ion-row>
      </ion-card-content>
    </ion-card>
  </ng-container>

</ion-content>
