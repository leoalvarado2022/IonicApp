<ion-header>
  <ion-toolbar class="background-color-header">
    <ion-buttons slot="start">
      <ion-back-button text=""></ion-back-button>
    </ion-buttons>
    <ion-title>
      <strong>Detalle Centro de Costo</strong>
    </ion-title>
    <ion-buttons slot="end">
      <app-notifications></app-notifications>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<!--  header-->
<ion-content>

  <div (click)="openSelected = !openSelected" [class.selected]="openSelected" class="header-content background-color--header">
    <ng-container *ngIf="costCenterListItem">
      <ion-row class="row">
        <ion-col size="12">
          <div class="white">{{ costCenterListItem.code }}</div>
        </ion-col>
        <ion-col size="12">
          <div class="white">{{ costCenterListItem.name }}</div>
        </ion-col>
        <ion-col size="12">
          <div class="white">{{ costCenterListItem.producerName }}</div>
        </ion-col>
        <ion-col size="12">
          <div class="white">{{ costCenterListItem.speciesName }} / {{ costCenterListItem.varietyName }}</div>
        </ion-col>
        <ion-col size="12">
          <div class="white">Fecha Cosecha: {{ costCenterListItem.harvestDate | customDate }}</div>
        </ion-col>
        <ion-col *ngIf="costCenterListItem.contractResponsible" size="12">
          <div class="white">Numero de Contratos: {{ costCenterListItem.contractsNumber }}</div>
        </ion-col>
      </ion-row>
    </ng-container>

    <ng-container *ngFor="let contract of productionContracts; let index = index">
      <div class="scroll-card">
        <ng-container>
          <div class="card-text">
            <div class="card-text-one">
              <p># {{ contract.documentNumber }}</p>
              <p>{{ contract.date| customDate }}</p>
              <p>{{ contract.responsibleName }}</p>
            </div>
            <div class="card-text-two">
              <p>{{ contract.totalQuantity }}</p>
            </div>
          </div>
        </ng-container>
      </div>
    </ng-container>
  </div>

  <!--  estimaciones-->
  <div class="estimates-card">
    <div>
      <p>{{ showUnitName() | uppercase }} CONTRATADOS</p>
      <p>
        <ion-icon color="danger" name="arrow-round-up"></ion-icon>&nbsp;
        <span>{{ getTotal() | number:'1.0-0':'es-CL' }}</span>
      </p>
    </div>
    <div>
      <p>{{ showUnitName() | uppercase }} RECIBIDOS</p>
      <p>
        <ion-icon color="primary" name="arrow-round-down"></ion-icon>&nbsp;<span>3.200</span></p>
    </div>
  </div>

  <!-- ESTIMACION DE COSECHA -->
  <ion-list class="item-list">
    <ion-list-header>
      <ion-label>ESTIMACION DE COSECHA</ion-label>
    </ion-list-header>
    <div *ngIf="harvestEstimate.length > 0">
      <app-harvest-estimate-item (harvestSelected)="harvestPage($event)" [item]="harvestEstimate[0]"></app-harvest-estimate-item>
    </div>
    <div *ngIf="harvestEstimate.length === 0">
      <app-harvest-estimate-item (harvestSelected)="harvestPage($event)"></app-harvest-estimate-item>
    </div>
  </ion-list>

  <!-- ESTIMACION DE CALIDAD -->
  <ion-list class="item-list">
    <ion-list-header>
      <ion-label>ESTIMACION DE CALIDAD</ion-label>
    </ion-list-header>
    <ng-container *ngIf="qualityEstimate.length > 0">
      <app-quality-estimate-item (itemSelected)="qualityPage($event)" [item]="qualityEstimate[0]"></app-quality-estimate-item>
    </ng-container>
    <ng-container *ngIf="qualityEstimate.length === 0">
      <app-quality-estimate-item (itemSelected)="qualityPage($event)"></app-quality-estimate-item>
    </ng-container>
  </ion-list>

  <!--  NOTAS-->
  <ion-list class="item-list">
    <ion-list-header>
      <ion-label>NOTA</ion-label>
    </ion-list-header>
    <ng-container *ngIf="notes.length > 0">
      <app-note-item (noteClicked)="noteListPage($event)" [item]="notes[0]"></app-note-item>
    </ng-container>
    <ng-container *ngIf="notes.length === 0">
      <app-note-item (noteClicked)="noteListPage($event)"></app-note-item>
    </ng-container>
  </ion-list>

  <!--  graficos-->
  <div [class.selected]="selectedGraphics" class="graphics">
    <!--
    <div id="container"></div>
    -->
  </div>

</ion-content>
