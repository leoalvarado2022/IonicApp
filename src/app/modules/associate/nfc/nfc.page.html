<ion-header>
  <ion-toolbar class="background-color-header">
    <ion-buttons slot="start">
      <ion-back-button class="header-back-button" text=""></ion-back-button>
    </ion-buttons>
    <ion-title>
      <strong>Dispositivos NFC</strong>
    </ion-title>
    <ion-buttons slot="end">
      <app-toolbar-buttons></app-toolbar-buttons>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h2 class="ion-text-center">
    NFC
  </h2>

  <ion-button (click)="tmpAssociate()">Asociar</ion-button>

  <!--
  <ion-button color="secondary" size="large" expand="full" class="ion-text-capitalize"
              (click)="pullDevice('23123123', 'TAG')" ion-button>prueba
  </ion-button>

  <ion-grid class="ion-padding" *ngIf="selected || scanning">
    <ion-row *ngIf="!scanning">
      <ion-button color="secondary" size="large" expand="full" class="ion-text-capitalize" (click)="associateWork()"
                  *ngIf="!isDelete" ion-button>Asociar
        a trabajador
      </ion-button>
      <ion-button color="danger" size="large" expand="full" class="ion-text-capitalize" *ngIf="isDelete" ion-button
                  (click)="deassociateWork()">Desasociar a
        trabajador
      </ion-button>
    </ion-row>
  </ion-grid>
  -->

  <ion-grid>
    <ion-row *ngIf="!scanned.length && !notSupported; else notSupportedElse">
      <ion-col col-12>
        <ion-button color="warning" size="large" expand="full" class="ion-text-capitalize btn-app">
          Acerque su dispositivo
        </ion-button>
      </ion-col>
    </ion-row>

    <ng-template #notSupportedElse>
      <ion-row *ngIf="notSupported">
        <ion-col col-12>
          <ion-button color="danger" size="large" expand="full" class="ion-text-capitalize">
            Dispositivo no soporta NFC
          </ion-button>
        </ion-col>
      </ion-row>
    </ng-template>
  </ion-grid>

  <!--  {{scanned | json}}-->
  <ion-grid>
    <ion-row *ngIf="scanned.length > 0">
      <ion-card *ngFor="let device of scanned" (click)="onPress(device)"
                [class.selected]="selected?.id_device === device.id_device"
                [class.error]="error && device?.id < 1"
                [class.sync]="sync && device?.id < 1">
        <ion-card-content>
          <ion-row class="ion-align-items-center">
            <ion-col size="2">
              <img src="assets/imgs/deals-icon-item.png">
            </ion-col>
            <ion-col size="10">
              <!--<div class="title-row">Tipo: {{device.type}}</div>-->
              <div class="subtitle-row">ID: {{device?.id_device}}</div>
              <div class="subtitle-row" *ngIf="device?.link">Trabajador: {{device?.link}}</div>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
    </ion-row>
  </ion-grid>
</ion-content>

